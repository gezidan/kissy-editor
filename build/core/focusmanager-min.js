KISSY.Editor.add("focusmanager",function(d){function h(){this.iframeFocus=l;g=this;e.log(this._UUID+" focus")}function i(){this.iframeFocus=m;g=n;e.log(this._UUID+" blur")}var e=KISSY,j=e.DOM,f=e.Event,c={},g,k={refreshAll:function(){for(var a in c){var b=c[a];b.document.designMode="off";b.document.designMode="on"}},currentInstance:function(){return g},getInstance:function(a){return c[a]},add:function(a){var b=j._4e_getWin(a.document);f.on(b,"focus",h,a);f.on(b,"blur",i,a)},register:function(a){c[a._UUID]=
a},remove:function(a){delete c[a._UUID];var b=j._4e_getWin(a.document);f.remove(b,"focus",h,a);f.remove(b,"blur",i,a)}},l=true,m=false,n=null;d.focusManager=k;d.focusManager=k;d.getInstances=function(){return c};d.getInstances=d.getInstances});
