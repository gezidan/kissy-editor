KISSY.Editor.add("bangpai-sourcearea",function(e){var a=KISSY.Editor,c=KISSY,g=c.Node;UA=c.UA;TripleButton=a.TripleButton;if(!(UA.gecko<1.92)){a.BangPaiSourceArea||function(){function f(b){this.editor=b;this._init()}var h=a.SOURCE_MODE,i=a.WYSIWYG_MODE;c.augment(f,{_init:function(){var b=this.editor,j=b.statusDiv,d=this.el=(new g("<span style='zoom:1;display:inline-block;height:22px;line-height:22px;'><input style='margin:0 5px;vertical-align:middle;' type='checkbox' /><span style='vertical-align:middle;'>编辑源代码</span></span>")).appendTo(j).one("input");
d.on("click",this._check,this);b.on("sourcemode",function(){d[0].checked=true});b.on("wysiwygmode",function(){d[0].checked=false})},_check:function(){this.el[0].checked?this._show():this._hide()},_show:function(){this.editor.execCommand("sourceAreaSupport",h)},_hide:function(){this.editor.execCommand("sourceAreaSupport",i)}});a.BangPaiSourceArea=f}();e.addPlugin(function(){new a.BangPaiSourceArea(e)})}},{attach:false,requires:["sourceareasupport"]});
