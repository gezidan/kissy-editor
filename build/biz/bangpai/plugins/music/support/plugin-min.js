KISSY.Editor.add("bangpai-music/support",function(){function f(a){f.superclass.constructor.apply(this,arguments);a.cfg.disableObjectResizing||i.on(a.document.body,j.ie?"resizestart":"resize",function(b){(new c.Node(b.target)).hasClass(e)&&b.preventDefault()})}function g(a){return a._4e_name()==="img"&&!!a.hasClass(e)&&a}var c=KISSY,j=c.UA,e="ke_xiami",i=c.Event,d=c.Editor;c.extend(f,d.Flash,{_config:function(){this._cls=e;this._type="bangpai-music";this._contentCls="ke-toolbar-music";this._tip="\u63d2\u5165\u867e\u7c73\u97f3\u4e50";
this._contextMenu=k;this._flashRules=["img."+e]},_updateTip:function(a,b){var h=this.editor.restoreRealElement(b);if(h){a.html(b.attr("title"));a.attr("href",this._getFlashUrl(h))}}});var k={"\u867e\u7c73\u5c5e\u6027":function(a){var b=a.editor.getSelection();b=b&&b.getStartElement();(b=g(b))&&a.show(null,b)}};d.Flash.registerBubble("bangpai-music","\u867e\u7c73\u97f3\u4e50\uff1a ",g);d.BangPaiMusic=f;d.add({"bangpai-music/dialog":{attach:false,charset:"utf-8",requires:["flash/dialog"],path:d.Utils.debugUrl("biz/bangpai/plugins/music/dialog/plugin.js")}})},
{attach:false,requires:["flash/support"]});
