KISSY.Editor.add("elementpaths",function(h){var f=KISSY.Editor,g=KISSY,i=g.Node,l=g.DOM;f.ElementPaths||function(){function j(a){this.cfg=a;this._cache=[];this._init()}g.augment(j,{_init:function(){var a=this.cfg.editor;this.holder=new i("<span>");this.holder.appendTo(a.statusDiv);a.on("selectionChange",this._selectionChange,this)},_selectionChange:function(a){var k=this.cfg.editor,d=this.holder;d=d[0]||d;a=a.path.elements;var c,b;c=this._cache;for(b=0;b<c.length;b++){c[b].detach("click");c[b]._4e_remove()}this._cache=
[];for(b=0;b<a.length;b++){c=a[b];var e=new i("<a href='#' class='elementpath'>"+(c.attr("_ke_real_element_type")||c._4e_name())+"</a>");this._cache.push(e);(function(m){e.on("click",function(n){n.halt();k.focus();setTimeout(function(){k.getSelection().selectElement(m)},50)})})(c);d.firstChild?l.insertBefore(e[0],d.firstChild):d.appendChild(e[0])}}});f.ElementPaths=j}();h.addPlugin(function(){new f.ElementPaths({editor:h})})});
