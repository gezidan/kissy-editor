KISSY.Editor.add("templates",function(h){var a=KISSY.Editor,i=KISSY,k=i.Node,l=a.TripleButton,m=a.SimpleOverlay;a.TplUI||function(){function j(c){this.editor=c;this._init()}i.augment(j,{_init:function(){(new l({container:this.editor.toolBarDiv,contentCls:"ke-toolbar-template",title:"\u6a21\u677f"})).on("click",this._show,this);a.Utils.lazyRun(this,"_prepare","_real")},_prepare:function(){for(var c=this.editor,e=c.cfg.pluginConfig.templates||[],f="<div class='ke-tpl'>",g=0;g<e.length;g++)f+="<a href='javascript:void(0)' class='ke-tpl-list' tabIndex='-1'>"+
e[g].demo+"</a>";f+="</div>";this._initDialogOk=true;var d=new m({mask:true,title:"\u5185\u5bb9\u6a21\u677f"});d.body.html(f);d.body.all(".ke-tpl-list").on("click",function(b){b.halt();b=(new k(b.target))._4e_index();b!=-1&&c.insertHtml(e[b].html);d.hide()});this.ui=d},_real:function(){this.ui.show()},_show:function(){this._prepare()}});a.TplUI=j}();h.addPlugin(function(){new a.TplUI(h)})});
