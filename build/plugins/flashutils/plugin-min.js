KISSY.Editor.add("flashutils",function(){var i=KISSY,l=i.Editor,k=l.Utils.flash;if(!k){var h=i.DOM,m=i.Node,n=i.UA;k={getUrl:function(b){var c="",d=l.NODE;if(b._4e_name()=="object"){b=b[0].childNodes;for(var a=0;a<b.length;a++)if(b[a].nodeType==d.NODE_ELEMENT)if((h.attr(b[a],"name")||"").toLowerCase()=="movie")c=h.attr(b[a],"value");else if(h._4e_name(b[a])=="embed")c=h.attr(b[a],"src");else if(h._4e_name(b[a])=="object")c=h.attr(b[a],"data")}else if(b._4e_name()=="embed")c=b.attr("src");return c},
createSWF:function(b,c,d){var a=c.attrs;c=c.flashVars;var g="",e="";d=d||document;if(a)for(var f in a)g+=f+"='"+a[f]+"' ";if(c){for(var j in c)e+="&"+j+"="+encodeURIComponent(c[j]);e=e.substring(1)}b="<object "+g+' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" <param name="quality" value="high" /><param name="movie" value="'+b+'" />'+(e?'<param name="flashVars" value="'+e+'"/>':"")+"<embed "+g+" "+(e?'FlashVars="'+e+'"':"")+' pluginspage="http://www.macromedia.com/go/getflashplayer"  quality="high"  src="'+
b+'"  type="application/x-shockwave-flash"/></object>';return{el:new m(b,null,d),html:b}},createSWFRuntime2:function(b,c,d){d=d||document;var a=(new m("<div style='width:0;height:0;overflow:hidden;'>",null,d)).appendTo(d.body);a=k.createSWF.apply(this,arguments).el.appendTo(a);n.ie||(a=a.one("object"));return a[0]},createSWFRuntime:function(b,c,d){var a=c.attrs,g=c.flashVars,e="",f="";d=d||document;a=a||{};a.id=a.id||i.guid("ke-runtimeflash-");for(var j in a)e+=j+"='"+a[j]+"' ";if(g){for(var o in g)f+=
"&"+o+"="+encodeURIComponent(g[o]);f=f.substring(1)}b=n.ie?"<object "+e+' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" <param name="quality" value="high" /><param name="wmode" value="transparent"/> <param name="movie" value="'+b+'" />'+(f?'<param name="flashVars" value="'+f+'" />':"")+"</object>":"<object type='application/x-shockwave-flash' data='"+b+"' "+e+'><param name="wmode" value="transparent"/> '+(f?'<param name="flashVars" value="'+f+'"/>':"")+"</object>";(new m("<div style='"+(c.style?
c.style:"width:0;height:0;overflow:hidden;")+"'>",null,d)).appendTo(d.body).html(b);return d.getElementById(a.id)}};l.Utils.flash=k}});
