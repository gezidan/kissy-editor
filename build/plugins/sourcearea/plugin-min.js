KISSY.Editor.add("sourcearea",function(e){var c=KISSY.Editor,f=KISSY,i=f.UA,d=c.TripleButton;c.SourceArea||function(){function g(a){this.editor=a;this._init()}f.augment(g,{_init:function(){var a=this.editor;this.el=new d({container:a.toolBarDiv,title:"源码",contentCls:"ke-toolbar-source"});this.el.on("offClick",this._show,this);this.el.on("onClick",this._hide,this);a.textarea.on("mousedown",function(b){b.stopPropagation()})},_show:function(){var a=this.editor,b=this.el;a.textarea.val(a.getData());a._showSource();
b.set("state",d.ON)},_hide:function(){var a=this.editor,b=a.textarea,h=this.el;a._hideSource();a.setData(b.val());if(i.gecko&&a.iframeFocus){h.el[0].focus();a.focus()}h.set("state",d.OFF)}});c.SourceArea=g}();e.addPlugin(function(){new c.SourceArea(e)})});
