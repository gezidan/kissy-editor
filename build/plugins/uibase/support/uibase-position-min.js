KISSY.add("uibase-position",function(b){function d(){b.log("position init")}b.namespace("UIBase");var e=document,f=b.Event;d.ATTRS={x:{},y:{},xy:{setter:function(a){var c=b.makeArray(a);if(c.length){c[0]&&this.set("x",c[0]);c[1]&&this.set("y",c[1])}return a}},zIndex:{value:9999},visible:{value:undefined}};d.prototype={__syncUI:function(){b.log("_syncUIPosition")},__renderUI:function(){b.log("_renderUIPosition");var a=this.get("el");a.addClass("ks-ext-position");a.css("display","")},__bindUI:function(){b.log("_bindUIPosition")},
_uiSetZIndex:function(a){b.log("_uiSetZIndex");a!==undefined&&this.get("el").css("z-index",a)},_uiSetX:function(a){b.log("_uiSetX");a!==undefined&&this.get("el").offset({left:a})},_uiSetY:function(a){b.log("_uiSetY");a!==undefined&&this.get("el").offset({top:a})},_uiSetVisible:function(a){if(a!==undefined){b.log("_uiSetVisible");this.get("el").css("visibility",a?"visible":"hidden");this[a?"_bindKey":"_unbindKey"]();this.fire(a?"show":"hide")}},_bindKey:function(){f.on(e,"keydown",this._esc,this)},
_unbindKey:function(){f.remove(e,"keydown",this._esc,this)},_esc:function(a){a.keyCode===27&&this.hide()},move:function(a,c){if(b.isArray(a)){c=a[1];a=a[0]}this.set("xy",[a,c])},show:function(){this._firstShow()},_firstShow:function(){this.render();this._realShow();this._firstShow=this._realShow},_realShow:function(){this.set("visible",true)},hide:function(){this.set("visible",false)},__destructor:function(){b.log("position __destructor")}};b.UIBase.Position=d});
