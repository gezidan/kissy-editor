KISSY.add("uibase-mask",function(a){function d(){a.log("mask init")}a.namespace("UIBase");var b,e=a.UA,c=0;d.ATTRS={mask:{value:false}};d.prototype={__bindUI:function(){a.log("_bindUIMask")},__renderUI:function(){a.log("_renderUIMask")},__syncUI:function(){a.log("_syncUIMask")},_uiSetMask:function(f){a.log("_uiSetMask");if(f){this.on("show",this._maskExtShow);this.on("hide",this._maskExtHide)}else{this.detach("show",this._maskExtShow);this.detach("hide",this._maskExtHide)}},_maskExtShow:function(){if(!b){b=
(new a.Node("<div class='ks-ext-mask'>")).prependTo(document.body);b.css({position:"absolute",left:0,top:0,width:e.ie6?a.DOM.docWidth():"100%",height:a.DOM.docHeight()});e.ie==6&&b.append("<iframe style='width:100%;height:expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'>")}b.css({"z-index":this.get("zIndex")-1});c++;b.show()},_maskExtHide:function(){c--;if(c<=0)c=0;c||b&&b.hide()},__destructor:function(){a.log("mask __destructor")}};a.UIBase.Mask=d});
