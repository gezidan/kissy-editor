KISSY.add("uibase",function(g){function j(a){p.apply(this,arguments);for(var b=this.constructor;b;){if(a&&a[l]&&b.HTML_PARSER)if(a[l]=g.one(a[l])){var c=a[l],d=b.HTML_PARSER,e=void 0,f=void 0;for(e in d)if(d.hasOwnProperty(e)){f=d[e];if(g.isFunction(f))this.__set(e,f.call(this,c));else if(g.isString(f))this.__set(e,c.one(f));else g.isArray(f)&&f[0]&&this.__set(e,c.all(f[0]))}}b=b.superclass&&b.superclass.constructor}m(this,"initializer","constructor");a&&a.autoRender&&this.render()}function m(a,b,
c){for(var d=a.constructor,e=[],f,h,k;d;){k=[];if(h=d.__ks_exts)for(var i=0;i<h.length;i++)if(f=h[i]){if(c!="constructor")f=h[i].prototype[c];f&&k.push(f)}if(f=d.prototype[b])k.push(f);k.length&&e.push.apply(e,k.reverse());d=d.superclass&&d.superclass.constructor}for(i=e.length-1;i>=0;i--)e[i]&&e[i].call(a)}var l="srcNode",p=g.Base,o=g.Attribute.__capitalFirst,n=function(){};j.HTML_PARSER={};j.ATTRS={render:{valueFn:function(){return document.body}},rendered:{value:false}};g.extend(j,p,{render:function(){if(!this.get("rendered")){this._renderUI();
this.fire("renderUI");m(this,"renderUI","__renderUI");this._bindUI();this.fire("bindUI");m(this,"bindUI","__bindUI");this._syncUI();this.fire("syncUI");m(this,"syncUI","__syncUI");this.set("rendered",true)}},_renderUI:n,renderUI:n,_bindUI:function(){var a=this,b=a.__getDefAttrs(),c,d;for(c in b)if(b.hasOwnProperty(c)){d="_uiSet"+o(c);a[d]&&function(e,f){a.on("after"+o(e)+"Change",function(h){a[f](h.newVal,h)})}(c,d)}},bindUI:n,_syncUI:function(){var a=this.__getDefAttrs(),b;for(b in a)if(a.hasOwnProperty(b)){var c=
"_uiSet"+o(b);this[c]&&this[c](this.get(b))}},syncUI:n,destroy:function(){for(var a=this.constructor,b,c,d;a;){(c=a.prototype.destructor)&&c.apply(this);if(b=a.__ks_exts)for(d=b.length-1;d>=0;d--)(c=b[d]&&b[d].prototype.__destructor)&&c.apply(this);a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach()}});j.create=function(a,b,c,d){function e(){j.apply(this,arguments)}if(g.isArray(a)){d=c;c=b;b=a;a=j}a=a||j;g.extend(e,a,c,d);if(b){e.__ks_exts=b;g.each(b,function(f){if(f){g.each(["ATTRS",
"HTML_PARSER"],function(h){if(f[h]){e[h]=e[h]||{};g.mix(e[h],f[h],false)}});g.augment(e,f,false)}})}return e};g.UIBase=j});
