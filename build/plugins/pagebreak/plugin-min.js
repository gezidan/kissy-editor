KISSY.Editor.add("pagebreak",function(g){var i=KISSY,f=i.Editor,h=g.htmlDataProcessor,j=h&&h.dataFilter,k="ke_pagebreak",l="div";j&&j.addRules({elements:{div:function(c){var b=c.attributes;var a=(b=b&&b.style)&&c.children.length==1&&c.children[0];if((a=a&&a.name=="span"&&a.attributes.style)&&/page-break-after\s*:\s*always/i.test(b)&&/display\s*:\s*none/i.test(a))return h.createFakeParserElement(c,k,l)}}});f.PageBreak||function(){function c(d){(new f.TripleButton({container:d.toolBarDiv,title:"\u5206\u9875",
contentCls:"ke-toolbar-pagebreak"})).on("click",function(){var e=new b(a,null,d.document);e=d.createFakeElement?d.createFakeElement(e,k,l,true,a):e;e=(new b("<div>",null,d.document)).append(e);d.insertElement(e)})}var b=i.Node,a='<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>';f.PageBreak=c}();g.addPlugin(function(){f.PageBreak(g)})});
