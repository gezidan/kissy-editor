KISSY.Editor.add("pagebreak",function(e){var d=KISSY,h=d.Editor,g=d.Node,f=e.htmlDataProcessor;(d=f&&f.dataFilter)&&d.addRules({elements:{div:function(b){var a=b.attributes;var c=(a=a&&a.style)&&b.children.length==1&&b.children[0];if((c=c&&c.name=="span"&&c.attributes.style)&&/page-break-after\s*:\s*always/i.test(a)&&/display\s*:\s*none/i.test(c))return f.createFakeParserElement(b,"ke_pagebreak","div")}}});e.ready(function(){e.addButton("page-break",{title:"\u5206\u9875",mode:h.WYSIWYG_MODE,contentCls:"ke-toolbar-pagebreak",
offClick:function(){var b=this.editor,a=new g('<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>',null,b.document);a=b.createFakeElement?b.createFakeElement(a,"ke_pagebreak","div",true,'<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>'):a;a=(new g("<div>",null,b.document)).append(a);b.insertElement(a)}})})});
