KISSY.Editor.add("pagebreak",function(d){var f=KISSY.Node,e=d.htmlDataProcessor,g=e&&e.dataFilter;g&&g.addRules({elements:{div:function(b){var a=b.attributes;var c=(a=a&&a.style)&&b.children.length==1&&b.children[0];if((c=c&&c.name=="span"&&c.attributes.style)&&/page-break-after\s*:\s*always/i.test(a)&&/display\s*:\s*none/i.test(c))return e.createFakeParserElement(b,"ke_pagebreak","div")}}});d.ready(function(){d.addButton("page-break",{title:"\u5206\u9875",contentCls:"ke-toolbar-pagebreak",offClick:function(){var b=
this.editor,a=new f('<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>',null,b.document);a=b.createFakeElement?b.createFakeElement(a,"ke_pagebreak","div",true,'<div style="page-break-after: always; "><span style="DISPLAY:none">&nbsp;</span></div>'):a;a=(new f("<div>",null,b.document)).append(a);b.insertElement(a)}})})});
