KISSY.Editor.add("format",function(i){var c=KISSY.Editor,j=KISSY,k=[],d={"\u666e\u901a\u6587\u672c":"p","\u6807\u98981":"h1","\u6807\u98982":"h2","\u6807\u98983":"h3","\u6807\u98984":"h4","\u6807\u98985":"h5","\u6807\u98986":"h6"},m={p:"1em",h1:"2em",h2:"1.5em",h3:"1.17em",h4:"1em",h5:"0.83em",h6:"0.67em"},f={},n=c.Style;for(var e in d)if(d[e]){f[d[e]]=new n({element:d[e]});k.push({name:e,value:d[e],attrs:{style:"font-size:"+m[d[e]]}})}c.Format||function(){function g(a){g.superclass.constructor.call(this,
a);this._init()}g.ATTRS={editor:{}};var h=c.Select;j.extend(g,j.Base,{_init:function(){var a=this.get("editor");this.el=new h({container:a.toolBarDiv,value:"",doc:a.document,width:this.get("width"),popUpWidth:this.get("popUpWidth"),title:this.get("title"),items:this.get("html")});this.el.on("click",this._vChange,this);a.on("selectionChange",this._selectionChange,this);c.Utils.sourceDisable(a,this)},disable:function(){this.el.set("state",h.DISABLED)},enable:function(){this.el.set("state",h.ENABLED)},
_vChange:function(a){var b=this.get("editor"),l=a.newVal;a=a.preVal;b.fire("save");if(l!=a)f[l].apply(b.document);else{f.p.apply(b.document);this.el.set("value","p")}b.fire("save")},_selectionChange:function(a){this.get("editor");a=a.path;for(var b in f)if(f[b].checkActive(a)){this.el.set("value",b);return}this.el.reset("value")}});c.Format=g}();i.addPlugin(function(){new c.Format({editor:i,html:k,title:"\u6807\u9898",width:"100px",popUpWidth:"120px"})})});
