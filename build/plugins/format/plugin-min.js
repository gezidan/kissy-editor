KISSY.Editor.add("format",function(h){var e=KISSY.Editor,i=KISSY,j=[],c={"\u666e\ufffd?\u6587\u672c":"p","\u6807\u98981":"h1","\u6807\u98982":"h2","\u6807\u98983":"h3","\u6807\u98984":"h4","\u6807\u98985":"h5","\u6807\u98986":"h6"},l={p:"1em",h1:"2em",h2:"1.5em",h3:"1.17em",h4:"1em",h5:"0.83em",h6:"0.67em"},f={},m=e.Style;for(var d in c)if(c[d]){f[c[d]]=new m({element:c[d]});j.push({name:d,value:c[d],attrs:{style:"font-size:"+l[c[d]]}})}e.Format||function(){function g(a){g.superclass.constructor.call(this,
a);this._init()}g.ATTRS={editor:{}};i.extend(g,i.Base,{_init:function(){var a=this.get("editor");this.el=new e.Select({container:a.toolBarDiv,value:"",doc:a.document,width:this.get("width"),popUpWidth:this.get("popUpWidth"),title:this.get("title"),items:this.get("html")});this.el.on("click",this._vChange,this);a.on("selectionChange",this._selectionChange,this)},_vChange:function(a){var b=this.get("editor"),k=a.newVal;a=a.preVal;b.fire("save");if(k!=a)f[k].apply(b.document);else{f.p.apply(b.document);
this.el.set("value","p")}b.fire("save")},_selectionChange:function(a){this.get("editor");a=a.path;for(var b in f)if(f[b].checkActive(a)){this.el.set("value",b);return}this.el.reset("value")}});e.Format=g}();h.addPlugin(function(){new e.Format({editor:h,html:j,title:"\u6807\u9898",width:"100px",popUpWidth:"120px"})})});
