/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 9 18:38
*/
KISSY.add("dom/attr",function(m,b,r,t){function v(g,c){c=B[c]||c;var f=u[c];if(!g)return t;return f&&f.get?f.get(g,c):g[c]}r=document.documentElement;var A=!r.hasAttribute,x=r.textContent===t?"innerText":"textContent",i=b._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,j=/:|^on/,p=/\r/g,o={},w={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},z={tabindex:{get:function(g){var c=g.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):n.test(g.nodeName)||y.test(g.nodeName)&&g.href?0:t}},style:{get:function(g){return g.style.cssText},set:function(g,c){g.style.cssText=c}}},B={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
E={get:function(g,c){return b.prop(g,c)?c.toLowerCase():t},set:function(g,c,f){if(c===false)b.removeAttr(g,f);else{c=B[f]||f;if(c in g)g[c]=true;g.setAttribute(f,f.toLowerCase())}return f}},u={},l={},s={option:{get:function(g){var c=g.attributes.value;return!c||c.specified?g.value:g.text}},select:{get:function(g){var c=g.selectedIndex,f=g.options;g=g.type==="select-one";if(c<0)return null;else if(g)return b.val(f[c]);c=[];g=0;for(var a=f.length;g<a;++g)f[g].selected&&c.push(b.val(f[g]));return c},
set:function(g,c){var f=m.makeArray(c);m.each(g.options,function(a){a.selected=m.inArray(b.val(a),f)});if(!f.length)g.selectedIndex=-1;return f}}};if(A){l={get:function(g,c){var f;return(f=g.getAttributeNode(c))&&f.nodeValue!==""?f.nodeValue:t},set:function(g,c,f){if(g=g.getAttributeNode(f))g.nodeValue=c}};o=B;z.tabIndex=z.tabindex;m.each(["href","src","width","height","colSpan","rowSpan"],function(g){z[g]={get:function(c){c=c.getAttribute(g,2);return c===null?t:c}}});s.button=z.value=l}m.each(["radio",
"checkbox"],function(g){s[g]={get:function(c){return c.getAttribute("value")===null?"on":c.value},set:function(c,f){if(m.isArray(f))return c.checked=m.inArray(b.val(c),f)}}});m.mix(b,{prop:function(g,c,f){if(m.isPlainObject(c))for(var a in c)b.prop(g,a,c[a]);else{g=b.query(g);c=B[c]||c;var d=u[c];if(f!==t)m.each(g,function(e){if(d&&d.set)d.set(e,f,c);else e[c]=f});else if(g=g[0])return v(g,c)}},hasProp:function(g,c){return v(g,c)!==t},removeProp:function(g,c){c=B[c]||c;b.query(g).each(function(f){try{f[c]=
t;delete f[c]}catch(a){}})},attr:function(g,c,f,a){if(m.isPlainObject(c)){a=f;for(var d in c)b.attr(g,d,c[d],a)}else if(c=m.trim(c)){c=c.toLowerCase();if(a&&w[c])return b[c](g,f);c=o[c]||c;var e;e=k.test(c)?E:j.test(c)?l:z[c];if(f===t){g=b.get(g);if(i(g)){if(g.nodeName.toLowerCase()=="form")e=l;if(e&&e.get)return e.get(g,c);g=g.getAttribute(c);return g===null?t:g}}else m.each(b.query(g),function(h){if(i(h))e&&e.set?e.set(h,f,c):h.setAttribute(c,""+f)})}},removeAttr:function(g,c){c=c.toLowerCase();
c=o[c]||c;m.each(b.query(g),function(f){if(i(f)){var a;f.removeAttribute(c);if(k.test(c)&&(a=B[c]||c)in f)f[a]=false}})},hasAttr:A?function(g,c){c=c.toLowerCase();var f=b.get(g).getAttributeNode(c);return!!(f&&f.specified)}:function(g,c){c=c.toLowerCase();return b.get(g).hasAttribute(c)},val:function(g,c){var f,a;if(c===t){var d=b.get(g);if(d){if((f=s[d.nodeName.toLowerCase()]||s[d.type])&&"get"in f&&(a=f.get(d,"value"))!==t)return a;a=d.value;return typeof a==="string"?a.replace(p,""):m.isNullOrUndefined(a)?
"":a}}else b.query(g).each(function(e){if(e.nodeType===1){var h=c;if(m.isNullOrUndefined(h))h="";else if(typeof h==="number")h+="";else if(m.isArray(h))h=m.map(h,function(q){return m.isNullOrUndefined(h)?"":q+""});f=s[e.nodeName.toLowerCase()]||s[e.type];if(!f||!("set"in f)||f.set(e,h,"value")===t)e.value=h}})},text:function(g,c){if(c===t){var f=b.get(g);if(i(f))return f[x]||"";else if(b._nodeTypeIs(f,3))return f.nodeValue;return t}else m.each(b.query(g),function(a){if(i(a))a[x]=c;else if(b._nodeTypeIs(a,
3))a.nodeValue=c})}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(m,b){function r(v,A){return v&&v.nodeType===A}var t={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(v){return r(v,1)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:r(v,9)?v.defaultView||v.parentWindow:v===b||v===null?window:false},_nodeTypeIs:r,_isNodeList:function(v){return v&&
!v.nodeType&&v.item&&!v.setTimeout}};t.TEXT_NODE=3;return t});
KISSY.add("dom/class",function(m,b,r){function t(x,i,k,n){if(!(i=m.trim(i)))return n?false:r;x=b.query(x);var y=x.length,j=i.split(v);i=[];for(var p=0;p<j.length;p++){var o=m.trim(j[p]);o&&i.push(o)}for(p=0;p<y;p++){j=x[p];if(b._isElementNode(j)){j=k(j,i,i.length);if(j!==r)return j}}if(n)return false;return r}var v=/[\.\s]\s*\.?/,A=/[\n\t]/g;m.mix(b,{hasClass:function(x,i){return t(x,i,function(k,n,y){if(k=k.className){k=(" "+k+" ").replace(A," ");for(var j=0,p=true;j<y;j++)if(k.indexOf(" "+n[j]+
" ")<0){p=false;break}if(p)return true}},true)},addClass:function(x,i){t(x,i,function(k,n,y){var j=k.className;if(j){var p=(" "+j+" ").replace(A," ");j=j;for(var o=0;o<y;o++)if(p.indexOf(" "+n[o]+" ")<0)j+=" "+n[o];k.className=m.trim(j)}else k.className=i},r)},removeClass:function(x,i){t(x,i,function(k,n,y){var j=k.className;if(j)if(y){j=(" "+j+" ").replace(A," ");for(var p=0,o;p<y;p++)for(o=" "+n[p]+" ";j.indexOf(o)>=0;)j=j.replace(o," ");k.className=m.trim(j)}else k.className=""},r)},replaceClass:function(x,
i,k){b.removeClass(x,i);b.addClass(x,k)},toggleClass:function(x,i,k){var n=m.isBoolean(k),y;t(x,i,function(j,p,o){for(var w=0,z;w<o;w++){z=p[w];y=n?!k:b.hasClass(j,z);b[y?"removeClass":"addClass"](j,z)}},r)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(m,b,r,t){function v(a,d){if(m.isPlainObject(d))if(j(a))b.attr(a,d,true);else a.nodeType==b.DOCUMENT_FRAGMENT_NODE&&m.each(a.childNodes,function(e){b.attr(e,d,true)});return a}function A(a,d){var e=null,h,q;if(a&&(a.push||a.item)&&a[0]){d=d||a[0].ownerDocument;e=d.createDocumentFragment();if(a.item)a=m.makeArray(a);h=0;for(q=a.length;h<q;h++)e.appendChild(a[h])}return e}function x(a,d,e,h){if(e){var q=m.guid("ks-tmp-"),C=RegExp(z);d+='<span id="'+q+'"></span>';m.available(q,
function(){var D=b.get("head"),F,H,G,I,K,J;for(C.lastIndex=0;F=C.exec(d);)if((G=(H=F[1])?H.match(E):false)&&G[2]){F=k.createElement("script");F.src=G[2];if((I=H.match(u))&&I[2])F.charset=I[2];F.async=true;D.appendChild(F)}else if((J=F[2])&&J.length>0)m.globalEval(J);(K=k.getElementById(q))&&b.remove(K);m.isFunction(h)&&h()});i(a,d)}else{i(a,d);m.isFunction(h)&&h()}}function i(a,d){d=(d+"").replace(z,"");try{a.innerHTML=d}catch(e){for(;a.firstChild;)a.removeChild(a.firstChild);d&&a.appendChild(b.create(d))}}
var k=document,n=r.ie,y=b._nodeTypeIs,j=b._isElementNode,p=k.createElement("div"),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<(\w+)/,z=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,E=/\ssrc=(['"])(.*?)\1/i,u=/\scharset=(['"])(.*?)\1/i;m.mix(b,{create:function(a,d,e){if(y(a,1)||y(a,3)){d=a;e=d.cloneNode(true);if(r.ie<8)e.innerHTML=d.innerHTML;return e}if(!(a=m.trim(a)))return null;var h=null;h=b._creators;var q,C="div",
D;if(q=B.exec(a))h=(e||k).createElement(q[1]);else{a=a.replace(o,"<$1></$2>");if((q=w.exec(a))&&(D=q[1])&&m.isFunction(h[D=D.toLowerCase()]))C=D;a=h[C](a,e).childNodes;h=a.length===1?a[0].parentNode.removeChild(a[0]):A(a,e||k)}return v(h,d)},_creators:{div:function(a,d){var e=d?d.createElement("div"):p;e.innerHTML="w<div>"+a+"</div>";return e.lastChild}},html:function(a,d,e,h){if(d===t){a=b.get(a);if(j(a))return a.innerHTML}else m.each(b.query(a),function(q){j(q)&&x(q,d,e,h)})},remove:function(a){m.each(b.query(a),
function(d){d.parentNode&&d.parentNode.removeChild(d)})},_nl2frag:A});if(n||r.gecko||r.webkit){var l=b._creators,s=b.create,g=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,c={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},f;for(f in c)(function(a){l[f]=function(d,e){return s("<"+a+">"+d+"</"+a+">",null,e)}})(c[f]);if(n){l.script=function(a,d){var e=d?d.createElement("div"):p;e.innerHTML="-"+a;e.removeChild(e.firstChild);return e};if(n<8)l.tbody=function(a,
d){var e=s("<table>"+a+"</table>",null,d),h=e.children.tags("tbody")[0];e.children.length>1&&h&&!g.test(a)&&h.parentNode.removeChild(h);return e}}m.mix(l,{optgroup:l.option,th:l.td,thead:l.tbody,tfoot:l.tbody,caption:l.tbody,colgroup:l.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(m,b,r){var t=window,v="_ks_data_"+m.now(),A={},x={},i={};i.applet=1;i.object=1;i.embed=1;var k={hasData:function(j,p){if(j)if(p!==r){if(p in j)return true}else if(!m.isEmptyObject(j))return true;return false}},n={hasData:function(j,p){if(j==t)return n.hasData(x,p);return k.hasData(j[v],p)},data:function(j,p,o){if(j==t)return n.data(x,p,o);var w=j[v];if(o!==r){w=j[v]=j[v]||{};w[p]=o}else if(p!==r)return w&&w[p];else return w=j[v]=j[v]||{}},removeData:function(j,p){if(j==
t)return n.removeData(x,p);var o=j[v];if(o)if(p!==r){delete o[p];m.isEmptyObject(o)&&n.removeData(j,r)}else delete j[v]}},y={hasData:function(j,p){var o=j[v];if(!o)return false;return k.hasData(A[o],p)},data:function(j,p,o){if(!i[j.nodeName.toLowerCase()]){var w=j[v];w||(w=j[v]=m.guid());j=A[w];if(o!==r){j=A[w]=A[w]||{};j[p]=o}else if(p!==r)return j&&j[p];else return j=A[w]=A[w]||{}}},removeData:function(j,p){var o=j[v];if(o){var w=A[o];if(w)if(p!==r){delete w[p];m.isEmptyObject(w)&&y.removeData(j,
r)}else{delete A[o];try{delete j[v]}catch(z){}j.removeAttribute&&j.removeAttribute(v)}}}};m.mix(b,{hasData:function(j,p){var o=false;b.query(j).each(function(w){o=w&&w.nodeType?o||y.hasData(w,p):o||n.hasData(w,p)});return o},data:function(j,p,o){if(m.isPlainObject(p))for(var w in p)b.data(j,w,p[w]);else if(o===r)return(j=b.get(j))&&j.nodeType?y.data(j,p,o):n.data(j,p,o);else b.query(j).each(function(z){z&&z.nodeType?y.data(z,p,o):n.data(z,p,o)})},removeData:function(j,p){b.query(j).each(function(o){o&&
o.nodeType?y.removeData(o,p):n.removeData(o,p)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(m,b){function r(x,i,k){x=b.query(x);i=b.query(i);if(x=t(x)){var n;if(i.length>1)n=x.cloneNode(true);for(var y=0;y<i.length;y++){var j=i[y],p=y>0?n.cloneNode(true):x;k(p,j)}}}var t=b._nl2frag;m.mix(b,{insertBefore:function(x,i){r(x,i,function(k,n){n.parentNode&&n.parentNode.insertBefore(k,n)})},insertAfter:function(x,i){r(x,i,function(k,n){n.parentNode&&n.parentNode.insertBefore(k,n.nextSibling)})},appendTo:function(x,i){r(x,i,function(k,n){n.appendChild(k)})},prependTo:function(x,
i){r(x,i,function(k,n){n.insertBefore(k,n.firstChild)})}});var v={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in v)b[A]=b[v[A]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(m,b,r,t){function v(c){var f,a=0;f=0;var d=i.body,e=p(c[B]);if(c[g]){f=c[g]();a=f[E];f=f[u];c=k&&i.documentMode!=9&&(o?n.clientTop:d.clientTop)||0;a-=k&&i.documentMode!=9&&(o?n.clientLeft:d.clientLeft)||0;f-=c;if(r.mobile=="apple"){a-=b[l](e);f-=b[s](e)}}return{left:a,top:f}}function A(c,f){var a={left:0,top:0},d=p(c[B]),e=c;f=f||d;do{var h;if(d==f){var q=e;h=v(q);q=p(q[B]);h.left+=b[l](q);h.top+=b[s](q);h=h}else h=v(e);h=h;a.left+=h.left;a.top+=h.top}while(d&&d!=f&&
(e=d.frameElement)&&(d=d.parent));return a}var x=window,i=document,k=r.ie,n=i.documentElement,y=b._isElementNode,j=b._nodeTypeIs,p=b._getWin,o=i.compatMode==="CSS1Compat",w=Math.max,z=parseInt,B="ownerDocument",E="left",u="top",l="scrollLeft",s="scrollTop",g="getBoundingClientRect";m.mix(b,{offset:function(c,f,a){if((c=b.get(c))&&c[B]){if(f===t)return A(c,a);c=c;if(b.css(c,"position")==="static")c.style.position="relative";a=A(c);var d={},e,h;for(h in f){e=z(b.css(c,h),10)||0;d[h]=e+f[h]-a[h]}b.css(c,
d)}},scrollIntoView:function(c,f,a,d){if((c=b.get(c))&&c[B]){d=d===t?true:!!d;a=a===t?true:!!a;if(!f||(f=b.get(f))===x)c.scrollIntoView(a);else{if(j(f,9))f=p(f);var e=!!p(f),h=b.offset(c),q=e?{left:b.scrollLeft(f),top:b.scrollTop(f)}:b.offset(f),C={left:h[E]-q[E],top:h[u]-q[u]};h=e?b.viewportHeight(f):f.clientHeight;e=e?b.viewportWidth(f):f.clientWidth;q=b[l](f);var D=b[s](f),F=q+e,H=D+h,G=c.offsetHeight;c=c.offsetWidth;var I=C.left+q-(z(b.css(f,"borderLeftWidth"))||0);C=C.top+D-(z(b.css(f,"borderTopWidth"))||
0);var K=I+c,J=C+G,L,M;if(G>h||C<D||a)L=C;else if(J>H)L=J-h;if(d)if(c>e||I<q||a)M=I;else if(K>F)M=K-e;b[s](f,L);b[l](f,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});m.each(["Left","Top"],function(c,f){var a="scroll"+c;b[a]=function(d,e){if(m.isNumber(d))arguments.callee(x,d);else{d=b.get(d);var h=0,q=p(d);if(q){if(e!==t){h=c=="Left"?e:b.scrollLeft(q);var C=c=="Top"?e:b.scrollTop(q);q.scrollTo(h,C)}h=q.document;h=q[f?"pageYOffset":"pageXOffset"]||h.documentElement[a]||h.body[a]}else if(y(d=
b.get(d)))h=e===t?d[a]:d[a]=e;return e===t?h:t}}});m.each(["Width","Height"],function(c){b["doc"+c]=function(f){f=b.get(f);f=p(f).document;return w(f.documentElement["scroll"+c],f.body["scroll"+c],b["viewport"+c](f))};b["viewport"+c]=function(f){f=b.get(f);var a="inner"+c;f=p(f);var d=f.document;return a in f?f[a]:o?d.documentElement["client"+c]:d.body["client"+c]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(m,b,r){function t(a,d){var e=[],h;h=d===r?[y]:t(d,r);o(h,function(q){E.apply(e,v(a,q))});if(m.isString(a)&&a.indexOf(",")>-1||h.length>1)c(e);e.each=m.bind(o,r,e);return e}function v(a,d){var e=[];p("sizzle");if(l(a))a=m.trim(a);if(l(a)&&a.indexOf(",")>-1)e=A(a,d);else{if(l(a)&&!g.exec(String(a))){e=a;var h=[],q=p("sizzle");q&&q(e,d,h);e=h}else e=x(a,d);e=e}return e=e}function A(a,d){var e=[],h=a.split(",");o(h,function(q){E.apply(e,v(q,d))});return e}function x(a,
d){var e,h,q=[],C;if(l(a))if(s.test(a)){if(h=k(a.slice(1),d))q=[h]}else{if(e=g.exec(a)){h=e[1];C=e[2];e=e[3];if(d=h?k(h,d):d)if(e)if(!h||a.indexOf(u)!=-1)q=[].concat(f(e,C,d));else{if((h=k(h,d))&&b.hasClass(h,e))q=[h]}else if(C)q=n(C,d)}}else if(a&&(w(a)||B(a)))q=j(a,function(D){return i(D,d)});else if(a)if(i(a,d))q=[a];return q}function i(a,d){if(!a)return false;if(d==y)return true;return b.__contains(d,a)}function k(a,d){if(!d)return null;var e=d;if(d.nodeType!==9)e=d.ownerDocument;e=e.getElementById(a);
if(!i(e,d))return null;return e}function n(a,d){return d&&z(d.getElementsByTagName(a))||[]}var y=document,j=m.filter,p=m.require,o=m.each,w=m.isArray,z=m.makeArray,B=b._isNodeList,E=Array.prototype.push,u=" ",l=m.isString,s=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,c;(function(){var a,d,e=true;[0,0].sort(function(){e=false;return 0});c=function(h){if(a){d=e;h.sort(a);if(d)for(var q=1,C=h.length;q<C;)if(h[q]===h[q-1])h.splice(q,1);else q++}return h};a=y.documentElement.compareDocumentPosition?
function(h,q){if(h==q){d=true;return 0}if(!h.compareDocumentPosition||!q.compareDocumentPosition)return h.compareDocumentPosition?-1:1;return h.compareDocumentPosition(q)&4?-1:1}:function(h,q){if(h==q){d=true;return 0}else if(h.sourceIndex&&q.sourceIndex)return h.sourceIndex-q.sourceIndex}})();(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));if(a.getElementsByTagName("*").length>0)n=function(d,e){var h=z(e.getElementsByTagName(d));if(d==="*"){for(var q=[],C=0,D;D=h[C++];)D.nodeType===
1&&q.push(D);h=q}return h}})();var f=y.getElementsByClassName?function(a,d,e){if(!e)return[];e=a=z(e.getElementsByClassName(a));var h=0,q=a.length,C;if(d&&d!=="*")for(e=z();h<q;++h){C=a[h];C.nodeName.toLowerCase()==d.toLowerCase()&&e.push(C)}return e}:y.querySelectorAll?function(a,d,e){return e&&z(e.querySelectorAll((d?d:"")+"."+a))||[]}:function(a,d,e){if(!e)return[];d=z(e.getElementsByTagName(d||"*"));e=[];for(var h=0,q=d.length,C;h<q;++h){C=d[h];b.hasClass(C,a)&&e.push(C)}return e};m.mix(b,{query:t,
get:function(a,d){return t(a,d)[0]||null},unique:c,filter:function(a,d,e){a=t(a,e);e=p("sizzle");var h,q,C,D=[];if(l(d)&&(h=g.exec(d))&&!h[1]){q=h[2];C=h[3];d=function(F){var H=true,G=true;if(q)H=F.nodeName.toLowerCase()==q.toLowerCase();if(C)G=b.hasClass(F,C);return G&&H}}if(m.isFunction(d))D=m.filter(a,d);else if(d&&e)D=e.matches(d,a);return D},test:function(a,d,e){a=t(a,e);return a.length&&b.filter(a,d,e).length===a.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(m,b,r,t){if(!r.ie)return b;var v=document,A=v.documentElement,x=t._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,k=/^-?\d/,n=/^(?:width|height)$/;try{if(m.isNullOrUndefined(A.style.opacity)&&A.filters)x.opacity={get:function(o){var w=100;try{w=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{w=o.filters("alpha").opacity}catch(B){if(o=((o.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))w=parseInt(m.trim(o[1]))}}return w/100+""},set:function(o,
w){var z=o.style,B=(o.currentStyle||0).filter||"";z.zoom=1;if(B)B=m.trim(B.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(B&&w!=1)B+=", ";z.filter=B+(w===1?"":"alpha(opacity="+w*100+")")}}}catch(y){}r=r.ie==8;var j={},p={get:function(o,w){var z=o.currentStyle[w]+"";if(z.indexOf("px")<0)z=j[z]?j[z]:0;return z}};j.thin=r?"1px":"2px";j.medium=r?"3px":"4px";j.thick=r?"5px":"6px";m.each(["","Top","Left","Right","Bottom"],function(o){x["border"+o+"Width"]=p});if(!(v.defaultView||{}).getComputedStyle&&
A.currentStyle)b._getComputedStyle=function(o,w){var z=o.style,B=o.currentStyle[w];if(n.test(w))B=b[w](o)+"px";else if(!i.test(B)&&k.test(B)){var E=z.left,u=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;z.left=w==="fontSize"?"1em":B||0;B=z.pixelLeft+"px";z.left=E;o.runtimeStyle.left=u}return B};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(m,b,r,t){function v(u,l){var s=b.get(u);if(m.isWindow(s))return l==n?b.viewportWidth(s):b.viewportHeight(s);else if(s.nodeType==9)return l==n?b.docWidth(s):b.docHeight(s);var g=l===n?s.offsetWidth:s.offsetHeight;m.each(l===n?["Left","Right"]:["Top","Bottom"],function(c){g-=parseFloat(b._getComputedStyle(s,"padding"+c))||0;g-=parseFloat(b._getComputedStyle(s,"border"+c+"Width"))||0});return g}function A(u,l,s){var g=s;if(s===y&&p.test(l)){g=0;if(m.inArray(b.css(u,"position"),
["absolute","fixed"])){s=u[l==="left"?"offsetLeft":"offsetTop"];if(k&&document.documentMode!=9||r.opera)s-=u.offsetParent["client"+(l=="left"?"Left":"Top")]||0;g=s-(j(b.css(u,"margin-"+l))||0)}}return g}var x=document,i=x.documentElement,k=r.ie,n="width",y="auto",j=parseInt,p=/^(?:left|top)/,o=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,z=function(u,l){return l.toUpperCase()},B={},E={};m.mix(b,{_CUSTOM_STYLES:B,_getComputedStyle:function(u,l){var s="",g=u.ownerDocument;
if(u.style)s=g.defaultView.getComputedStyle(u,null)[l];return s},css:function(u,l,s){if(m.isPlainObject(l))for(var g in l)b.css(u,g,l[g]);else{if(l.indexOf("-")>0)l=l.replace(w,z);g=l;l=B[l]||l;if(s===t){u=b.get(u);var c="";if(u&&u.style){c=l.get?l.get(u,g):u.style[l];if(c===""&&!l.get)c=A(u,l,b._getComputedStyle(u,l))}return c===t?"":c}else{if(s===null||s==="")s="";else if(!isNaN(new Number(s))&&o.test(l))s+="px";(l===n||l==="height")&&parseFloat(s)<0||m.each(b.query(u),function(f){if(f&&f.style){l.set?
l.set(f,s):f.style[l]=s;if(s==="")f.style.cssText||f.removeAttribute("style")}})}}},width:function(u,l){if(l===t)return v(u,n);else b.css(u,n,l)},height:function(u,l){if(l===t)return v(u,"height");else b.css(u,"height",l)},show:function(u){b.query(u).each(function(l){if(l){l.style.display=b.data(l,"display")||"";if(b.css(l,"display")==="none"){var s=l.tagName,g=E[s],c;if(!g){c=x.createElement(s);x.body.appendChild(c);g=b.css(c,"display");b.remove(c);E[s]=g}b.data(l,"display",g);l.style.display=g}}})},
hide:function(u){b.query(u).each(function(l){if(l){var s=l.style,g=s.display;if(g!=="none"){g&&b.data(l,"display",g);s.display="none"}}})},toggle:function(u){b.query(u).each(function(l){if(l)b.css(l,"display")==="none"?b.show(l):b.hide(l)})},addStyleSheet:function(u,l,s){if(m.isString(u)){s=l;l=u;u=window}u=b.get(u);u=b._getWin(u).document;var g;if(s&&(s=s.replace("#","")))g=b.get("#"+s,u);if(!g){g=b.create("<style>",{id:s},u);b.get("head",u).appendChild(g);if(g.styleSheet)g.styleSheet.cssText=l;
else g.appendChild(u.createTextNode(l))}},unselectable:function(u){b.query(u).each(function(l){if(l)if(r.gecko)l.style.MozUserSelect="none";else if(r.webkit)l.style.KhtmlUserSelect="none";else if(r.ie||r.opera){var s=0,g=l.getElementsByTagName("*");for(l.setAttribute("unselectable","on");l=g[s++];)switch(l.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:l.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==t)B["float"]="cssFloat";else if(i.style.styleFloat!==
t)B["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(m,b,r){function t(i,k,n,y,j,p){if(!(i=b.get(i)))return null;if(k===0)return i;p||(i=i[n]);if(!i)return null;j=j&&b.get(j)||null;if(k===r)k=1;p=[];var o=m.isArray(k),w,z;if(m.isNumber(k)){w=0;z=k;k=function(){return++w===z}}for(;i&&i!=j;){if(x(i)&&v(i,k)&&(!y||y(i))){p.push(i);if(!o)break}i=i[n]}return o?p:p[0]||null}function v(i,k){if(!k)return true;if(m.isArray(k))for(var n=0;n<k.length;n++){if(b.test(i,k[n]))return true}else if(b.test(i,k))return true;return false}
function A(i,k,n){var y=[];var j=i=b.get(i);if(i&&n)j=i.parentNode;if(j){n=0;for(j=j.firstChild;j;j=j.nextSibling)if(x(j)&&j!==i&&(!k||b.test(j,k)))y[n++]=j}return y}var x=b._isElementNode;m.mix(b,{closest:function(i,k,n){return t(i,k,"parentNode",function(y){return y.nodeType!=b.DOCUMENT_FRAGMENT_NODE},n,true)},parent:function(i,k,n){return t(i,k,"parentNode",function(y){return y.nodeType!=b.DOCUMENT_FRAGMENT_NODE},n)},first:function(i,k){var n=b.get(i);if(!n||!n.firstChild)return null;return t(n.firstChild,
k,"nextSibling",r,r,true)},last:function(i,k){var n=b.get(i);if(!n||!n.lastChild())return null;return t(n.lastChild,k,"previousSibling",r,r,true)},next:function(i,k){return t(i,k,"nextSibling",r)},prev:function(i,k){return t(i,k,"previousSibling",r)},siblings:function(i,k){return A(i,k,true)},children:function(i,k){return A(i,k,r)},__contains:document.documentElement.contains?function(i,k){if(i.nodeType==b.TEXT_NODE)return false;var n;if(k.nodeType==b.TEXT_NODE){k=k.parentNode;n=true}else if(k.nodeType==
b.DOCUMENT_NODE)return false;else n=i!==k;return n&&(i.contains?i.contains(k):true)}:document.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&16)}:0,contains:function(i,k){i=b.get(i);k=b.get(k);return b.__contains(i,k)},equals:function(i,k){i=b.query(i);k=b.query(k);if(i.length!=k.length)return false;for(var n=i.length;n>=0;n--)if(i[n]!=k[n])return false;return true}});return b},{requires:["./base"]});
KISSY.add("dom",function(m,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
