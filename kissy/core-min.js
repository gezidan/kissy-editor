/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Jul 20 18:57
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,a="",l="",c,e={},g=function(b){var d=0;return parseFloat(b.replace(/\./g,function(){return d++===0?".":""}))};if((c=f.match(/AppleWebKit\/([\d.]*)/))&&c[1]){e[a="webkit"]=g(c[1]);if((c=f.match(/Chrome\/([\d.]*)/))&&c[1])e[l="chrome"]=g(c[1]);else if((c=f.match(/\/([\d.]*) Safari/))&&c[1])e[l="safari"]=g(c[1]);if(/ Mobile\//.test(f))e.mobile="apple";else if(c=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=c[0].toLowerCase()}else if((c=
f.match(/Presto\/([\d.]*)/))&&c[1]){e[a="presto"]=g(c[1]);if((c=f.match(/Opera\/([\d.]*)/))&&c[1]){e[l="opera"]=g(c[1]);if((c=f.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])e[l]=g(c[1]);if((c=f.match(/Opera Mini[^;]*/))&&c)e.mobile=c[0].toLowerCase();else if((c=f.match(/Opera Mobi[^;]*/))&&c)e.mobile=c[0]}}else if((c=f.match(/MSIE\s([^;]*)/))&&c[1]){e[a="trident"]=0.1;e[l="ie"]=g(c[1]);if((c=f.match(/Trident\/([\d.]*)/))&&c[1])e[a]=g(c[1])}else if(c=f.match(/Gecko/)){e[a="gecko"]=0.1;if((c=f.match(/rv:([\d.]*)/))&&
c[1])e[a]=g(c[1]);if((c=f.match(/Firefox\/([\d.]*)/))&&c[1])e[l="firefox"]=g(c[1])}e.core=a;e.shell=l;e._numberify=g;return e});
KISSY.add("ua/extra",function(f,a){var l=navigator.userAgent,c,e,g={},b=a._numberify;if(l.match(/360SE/))g[e="se360"]=3;else if(l.match(/Maxthon/)&&(c=window.external)){e="maxthon";try{g[e]=b(c.max_version)}catch(d){g[e]=0.1}}else if(c=l.match(/TencentTraveler\s([\d.]*)/))g[e="tt"]=c[1]?b(c[1]):0.1;else if(l.match(/TheWorld/))g[e="theworld"]=3;else if(c=l.match(/SE\s([\d.]*)/))g[e="sougou"]=c[1]?b(c[1]):0.1;e&&(g.shell=e);f.mix(a,g);return a},{requires:["ua/base"]});
KISSY.add("ua",function(f,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,a){function l(c,e){return c&&c.nodeType===e}return{_isElementNode:function(c){return l(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:l(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:l,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(f,a,l,c){function e(j,i){i=s[i]||i;var r=m[i];if(!j)return c;return r&&r.get?r.get(j,i):j[i]}l=document.documentElement;var g=!l.hasAttribute,b=l.textContent!==c?"textContent":"innerText",d=a._isElementNode,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,u=/:|^on/,t=/\r/g,x={},n={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},p={tabindex:{get:function(j){var i=j.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):q.test(j.nodeName)||w.test(j.nodeName)&&j.href?0:c}},style:{get:function(j){return j.style.cssText},set:function(j,i){j.style.cssText=i}}},s={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
v={get:function(j,i){return a.prop(j,i)?i.toLowerCase():c},set:function(j,i,r){if(i===false)a.removeAttr(j,r);else{i=s[r]||r;if(i in j)j[i]=true;j.setAttribute(r,r.toLowerCase())}return r}},m={},k={},o={option:{get:function(j){var i=j.attributes.value;return!i||i.specified?j.value:j.text}},select:{get:function(j){var i=j.selectedIndex,r=j.options;j=j.type==="select-one";if(i<0)return null;else if(j)return a.val(r[i]);i=[];j=0;for(var y=r.length;j<y;++j)r[j].selected&&i.push(a.val(r[j]));return i},
set:function(j,i){var r=f.makeArray(i);f.each(j.options,function(y){y.selected=f.inArray(a.val(y),r)});if(!r.length)j.selectedIndex=-1;return r}}};if(g){k={get:function(j,i){var r;return(r=j.getAttributeNode(i))&&r.nodeValue!==""?r.nodeValue:c},set:function(j,i,r){if(j=j.getAttributeNode(r))j.nodeValue=i}};x=s;p.tabIndex=p.tabindex;f.each(["href","src","width","height","colSpan","rowSpan"],function(j){p[j]={get:function(i){i=i.getAttribute(j,2);return i===null?c:i}}});o.button=p.value=k}f.each(["radio",
"checkbox"],function(j){o[j]={get:function(i){return i.getAttribute("value")===null?"on":i.value},set:function(i,r){if(f.isArray(r))return i.checked=f.inArray(a.val(i),r)}}});f.mix(a,{prop:function(j,i,r){if(f.isPlainObject(i))for(var y in i)a.prop(j,y,i[y]);else{j=a.query(j);i=s[i]||i;var z=m[i];if(r!==c)f.each(j,function(A){if(z&&z.set)z.set(A,r,i);else A[i]=r});else if(j=j[0])return e(j,i)}},hasProp:function(j,i){return e(j,i)!==c},removeProp:function(j,i){i=s[i]||i;a.query(j).each(function(r){try{r[i]=
c;delete r[i]}catch(y){}})},attr:function(j,i,r,y){if(f.isPlainObject(i)){y=r;for(var z in i)a.attr(j,z,i[z],y)}else if(i=f.trim(i)){i=i.toLowerCase();if(y&&n[i])return a[i](j,r);i=x[i]||i;var A;A=h.test(i)?v:u.test(i)?k:p[i];if(r===c){j=a.get(j);if(d(j)){if(j.nodeName.toLowerCase()=="form")A=k;if(A&&A.get)return A.get(j,i);j=j.getAttribute(i);return j===null?c:j}}else f.each(a.query(j),function(B){if(d(B))A&&A.set?A.set(B,r,i):B.setAttribute(i,""+r)})}},removeAttr:function(j,i){i=i.toLowerCase();
i=x[i]||i;f.each(a.query(j),function(r){if(d(r)){var y;r.removeAttribute(i);if(h.test(i)&&(y=s[i]||i)in r)r[y]=false}})},hasAttr:g?function(j,i){i=i.toLowerCase();var r=a.get(j).getAttributeNode(i);return!!(r&&r.specified)}:function(j,i){i=i.toLowerCase();return a.get(j).hasAttribute(i)},val:function(j,i){var r,y;if(i===c){var z=a.get(j);if(z){if((r=o[z.nodeName.toLowerCase()]||o[z.type])&&"get"in r&&(y=r.get(z,"value"))!==c)return y;y=z.value;return typeof y==="string"?y.replace(t,""):y==null?"":
y}}else a.query(j).each(function(A){if(A.nodeType===1){var B=i;if(B==null)B="";else if(typeof B==="number")B+="";else if(f.isArray(B))B=f.map(B,function(C){return C==null?"":C+""});r=o[A.nodeName.toLowerCase()]||o[A.type];if(!r||!("set"in r)||r.set(A,B,"value")===c)A.value=B}})},text:function(j,i){if(i===c){var r=a.get(j);if(d(r))return r[b]||"";else if(a._nodeTypeIs(r,3))return r.nodeValue;return c}else f.each(a.query(j),function(y){if(d(y))y[b]=i;else if(a._nodeTypeIs(y,3))y.nodeValue=i})}});return a},
{requires:["./base","ua"]});
KISSY.add("dom/class",function(f,a,l){function c(b,d,h,q){if(!(d=f.trim(d)))return q?false:l;b=a.query(b);var w=0,u=b.length,t=d.split(e);for(d=[];w<t.length;w++){var x=f.trim(t[w]);x&&d.push(x)}for(w=0;w<u;w++){t=b[w];if(a._isElementNode(t)){t=h(t,d,d.length);if(t!==l)return t}}if(q)return false;return l}var e=/[\.\s]\s*\.?/,g=/[\n\t]/g;f.mix(a,{hasClass:function(b,d){return c(b,d,function(h,q,w){if(h=h.className){h=(" "+h+" ").replace(g," ");for(var u=0,t=true;u<w;u++)if(h.indexOf(" "+q[u]+" ")<
0){t=false;break}if(t)return true}},true)},addClass:function(b,d){c(b,d,function(h,q,w){var u=h.className;if(u){var t=(" "+u+" ").replace(g," ");u=u;for(var x=0;x<w;x++)if(t.indexOf(" "+q[x]+" ")<0)u+=" "+q[x];h.className=f.trim(u)}else h.className=d},l)},removeClass:function(b,d){c(b,d,function(h,q,w){var u=h.className;if(u)if(w){u=(" "+u+" ").replace(g," ");for(var t=0,x;t<w;t++)for(x=" "+q[t]+" ";u.indexOf(x)>=0;)u=u.replace(x," ");h.className=f.trim(u)}else h.className=""},l)},replaceClass:function(b,
d,h){a.removeClass(b,d);a.addClass(b,h)},toggleClass:function(b,d,h){var q=f.isBoolean(h),w;c(b,d,function(u,t,x){for(var n=0,p;n<x;n++){p=t[n];w=q?!h:a.hasClass(u,p);a[w?"removeClass":"addClass"](u,p)}},l)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,l,c){function e(y,z){if(f.isPlainObject(z))if(u(y))a.attr(y,z,true);else y.nodeType==11&&f.each(y.childNodes,function(A){a.attr(A,z,true)});return y}function g(y,z){var A=null,B,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;A=z.createDocumentFragment();if(y.item)y=f.makeArray(y);B=0;for(C=y.length;B<C;B++)A.appendChild(y[B])}else f.log("Unable to convert "+y+" to fragment.");return A}function b(y,z,A,B){if(A){var C=f.guid("ks-tmp-"),D=RegExp(p);z+='<span id="'+
C+'"></span>';f.available(C,function(){var E=a.get("head"),F,G,I,H,K,J;for(D.lastIndex=0;F=D.exec(z);)if((I=(G=F[1])?G.match(v):false)&&I[2]){F=h.createElement("script");F.src=I[2];if((H=G.match(m))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)f.globalEval(J);(K=h.getElementById(C))&&a.remove(K);f.isFunction(B)&&B()});d(y,z)}else{d(y,z);f.isFunction(B)&&B()}}function d(y,z){z=(z+"").replace(p,"");try{y.innerHTML=z}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(a.create(z))}}var h=document,q=l.ie,w=a._nodeTypeIs,u=a._isElementNode,t=h.createElement("div"),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,n=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,s=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,v=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;f.mix(a,{create:function(y,z,A){if(w(y,1)||w(y,3)){z=y;A=z.cloneNode(true);if(l.ie<8)A.innerHTML=z.innerHTML;return A}if(!(y=f.trim(y)))return null;var B=
null;B=a._creators;var C,D="div",E;if(C=s.exec(y))B=(A||h).createElement(C[1]);else{y=y.replace(x,"<$1></$2>");if((C=n.exec(y))&&(E=C[1])&&f.isFunction(B[E=E.toLowerCase()]))D=E;y=B[D](y,A).childNodes;B=y.length===1?y[0].parentNode.removeChild(y[0]):g(y,A||h)}return e(B,z)},_creators:{div:function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="w<div>"+y+"</div>";return A.lastChild}},html:function(y,z,A,B){if(z===c){y=a.get(y);if(u(y))return y.innerHTML}else f.each(a.query(y),function(C){u(C)&&
b(C,z,A,B)})},remove:function(y){f.each(a.query(y),function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:g});if(q||l.gecko||l.webkit){var k=a._creators,o=a.create,j=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,i={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},r;for(r in i)(function(y){k[r]=function(z,A){return o("<"+y+">"+z+"</"+y+">",null,A)}})(i[r]);if(q){k.script=function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="-"+y;A.removeChild(A.firstChild);
return A};if(q<8)k.tbody=function(y,z){var A=o("<table>"+y+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!j.test(y)&&B.parentNode.removeChild(B);return A}}f.mix(k,{optgroup:k.option,th:k.td,thead:k.tbody,tfoot:k.tbody,caption:k.tbody,colgroup:k.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,l){var c=window,e="_ks_data_"+f.now(),g={},b={},d={};d.applet=1;d.object=1;d.embed=1;var h={hasData:function(u,t){if(u)if(t!==l){if(t in u)return true}else if(!f.isEmptyObject(u))return true;return false}},q={hasData:function(u,t){if(u==c)return q.hasData(b,t);return h.hasData(u[e],t)},data:function(u,t,x){if(u==c)return q.data(b,t,x);u=u[e]=u[e]||{};if(x!==l)u[t]=x;else return t!==l?u[t]:u},removeData:function(u,t){if(u==c)return q.removeData(b,t);var x=u[e];if(x)if(t!==
l){delete x[t];f.isEmptyObject(x)&&q.removeData(u,l)}else delete u[e]}},w={hasData:function(u,t){var x=u[e];if(!x)return false;return h.hasData(g[x],t)},data:function(u,t,x){if(!d[u.nodeName.toLowerCase()]){var n=u[e];n||(n=u[e]=f.guid());u=g[n]=g[n]||{};if(x!==l)u[t]=x;else return t!==l?u[t]:u}},removeData:function(u,t){var x=u[e];if(x){var n=g[x];if(n)if(t!==l){delete n[t];f.isEmptyObject(n)&&w.removeData(u,l)}else{delete g[x];try{delete u[e]}catch(p){}u.removeAttribute&&u.removeAttribute(e)}}}};
f.mix(a,{hasData:function(u,t){var x=false;a.query(u).each(function(n){x=n&&n.nodeType?x||w.hasData(n,t):x||q.hasData(n,t)});return x},data:function(u,t,x){if(f.isPlainObject(t))for(var n in t)a.data(u,n,t[n]);else if(x===l)return(u=a.get(u))&&u.nodeType?w.data(u,t,x):q.data(u,t,x);else a.query(u).each(function(p){p&&p.nodeType?w.data(p,t,x):q.data(p,t,x)})},removeData:function(u,t){a.query(u).each(function(x){x&&x.nodeType?w.removeData(x,t):q.removeData(x,t)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(f,a){function l(b,d,h){b=a.query(b);d=a.query(d);if(b=c(b)){var q;if(d.length>1)q=b.cloneNode(true);for(var w=0;w<d.length;w++){var u=d[w],t=w>0?q.cloneNode(true):b;h(t,u)}}}var c=a._nl2frag;f.mix(a,{insertBefore:function(b,d){l(b,d,function(h,q){q.parentNode&&q.parentNode.insertBefore(h,q)})},insertAfter:function(b,d){l(b,d,function(h,q){q.parentNode&&q.parentNode.insertBefore(h,q.nextSibling)})},appendTo:function(b,d){l(b,d,function(h,q){q.appendChild(h)})},prependTo:function(b,
d){l(b,d,function(h,q){q.insertBefore(h,q.firstChild)})}});var e={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in e)a[g]=a[e[g]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(f,a,l,c){function e(i){var r,y=0;r=0;var z=d.body,A=t(i[s]);if(i[j]){r=i[j]();y=r[v];r=r[m];i=h&&d.documentMode!=9&&(x?q.clientTop:z.clientTop)||0;y-=h&&d.documentMode!=9&&(x?q.clientLeft:z.clientLeft)||0;r-=i;if(l.mobile=="apple"){y-=a[k](A);r-=a[o](A)}}return{left:y,top:r}}function g(i,r){var y={left:0,top:0},z=t(i[s]),A=i;r=r||z;do{var B;if(z==r){var C=A;B=e(C);C=t(C[s]);B.left+=a[k](C);B.top+=a[o](C);B=B}else B=e(A);B=B;y.left+=B.left;y.top+=B.top}while(z&&z!=r&&
(A=z.frameElement)&&(z=z.parent));return y}var b=window,d=document,h=l.ie,q=d.documentElement,w=a._isElementNode,u=a._nodeTypeIs,t=a._getWin,x=d.compatMode==="CSS1Compat",n=Math.max,p=parseInt,s="ownerDocument",v="left",m="top",k="scrollLeft",o="scrollTop",j="getBoundingClientRect";f.mix(a,{offset:function(i,r,y){if((i=a.get(i))&&i[s]){if(r===c)return g(i,y);i=i;if(a.css(i,"position")==="static")i.style.position="relative";y=g(i);var z={},A,B;for(B in r){A=p(a.css(i,B),10)||0;z[B]=A+r[B]-y[B]}a.css(i,
z)}},scrollIntoView:function(i,r,y,z){if((i=a.get(i))&&i[s]){z=z===c?true:!!z;y=y===c?true:!!y;if(!r||(r=a.get(r))===b)i.scrollIntoView(y);else{if(u(r,9))r=t(r);var A=!!t(r),B=a.offset(i),C=A?{left:a.scrollLeft(r),top:a.scrollTop(r)}:a.offset(r),D={left:B[v]-C[v],top:B[m]-C[m]};B=A?a.viewportHeight(r):r.clientHeight;A=A?a.viewportWidth(r):r.clientWidth;C=a[k](r);var E=a[o](r),F=C+A,G=E+B,I=i.offsetHeight;i=i.offsetWidth;var H=D.left+C-(p(a.css(r,"borderLeftWidth"))||0);D=D.top+E-(p(a.css(r,"borderTopWidth"))||
0);var K=H+i,J=D+I,L,M;if(I>B||D<E||y)L=D;else if(J>G)L=J-B;if(z)if(i>A||H<C||y)M=H;else if(K>F)M=K-A;a[o](r,L);a[k](r,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(i,r){var y="scroll"+i;a[y]=function(z,A){if(f.isNumber(z))arguments.callee(b,z);else{z=a.get(z);var B=0,C=t(z);if(C){if(A!==c){B=i=="Left"?A:a.scrollLeft(C);var D=i=="Top"?A:a.scrollTop(C);C.scrollTo(B,D)}B=C.document;B=C[r?"pageYOffset":"pageXOffset"]||B.documentElement[y]||B.body[y]}else if(w(z=
a.get(z)))B=A!==c?z[y]=A:z[y];return A===c?B:c}}});f.each(["Width","Height"],function(i){a["doc"+i]=function(r){r=a.get(r);r=t(r).document;return n(r.documentElement["scroll"+i],r.body["scroll"+i],a["viewport"+i](r))};a["viewport"+i]=function(r){r=a.get(r);var y="inner"+i;r=t(r);var z=r.document;return y in r?r[y]:x?z.documentElement["client"+i]:z.body["client"+i]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,a,l,c){function e(m,k){var o=a.get(m);if(f.isWindow(o))return k==q?a.viewportWidth(o):a.viewportHeight(o);else if(o.nodeType==9)return k==q?a.docWidth(o):a.docHeight(o);var j=k===q?o.offsetWidth:o.offsetHeight;f.each(k===q?["Left","Right"]:["Top","Bottom"],function(i){j-=parseFloat(a._getComputedStyle(o,"padding"+i))||0;j-=parseFloat(a._getComputedStyle(o,"border"+i+"Width"))||0});return j}function g(m,k,o){var j=o;if(o===w&&t.test(k)){j=0;if(f.inArray(a.css(m,"position"),
["absolute","fixed"])){o=m[k==="left"?"offsetLeft":"offsetTop"];if(h&&document.documentMode!=9||l.opera)o-=m.offsetParent["client"+(k=="left"?"Left":"Top")]||0;j=o-(u(a.css(m,"margin-"+k))||0)}}return j}var b=document,d=b.documentElement,h=l.ie,q="width",w="auto",u=parseInt,t=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,n=/-([a-z])/ig,p=function(m,k){return k.toUpperCase()},s={},v={};f.mix(a,{_CUSTOM_STYLES:s,_getComputedStyle:function(m,k){var o="",j=m.ownerDocument;
if(m.style)o=j.defaultView.getComputedStyle(m,null)[k];return o},css:function(m,k,o){if(f.isPlainObject(k))for(var j in k)a.css(m,j,k[j]);else{if(k.indexOf("-")>0)k=k.replace(n,p);j=k;k=s[k]||k;if(o===c){m=a.get(m);var i="";if(m&&m.style){i=k.get?k.get(m,j):m.style[k];if(i===""&&!k.get)i=g(m,k,a._getComputedStyle(m,k))}return i===c?"":i}else{if(o===null||o==="")o="";else if(!isNaN(new Number(o))&&x.test(k))o+="px";(k===q||k==="height")&&parseFloat(o)<0||f.each(a.query(m),function(r){if(r&&r.style){k.set?
k.set(r,o):r.style[k]=o;if(o==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(m,k){if(k===c)return e(m,q);else a.css(m,q,k)},height:function(m,k){if(k===c)return e(m,"height");else a.css(m,"height",k)},show:function(m){a.query(m).each(function(k){if(k){k.style.display=a.data(k,"display")||"";if(a.css(k,"display")==="none"){var o=k.tagName,j=v[o],i;if(!j){i=b.createElement(o);b.body.appendChild(i);j=a.css(i,"display");a.remove(i);v[o]=j}a.data(k,"display",j);k.style.display=j}}})},
hide:function(m){a.query(m).each(function(k){if(k){var o=k.style,j=o.display;if(j!=="none"){j&&a.data(k,"display",j);o.display="none"}}})},toggle:function(m){a.query(m).each(function(k){if(k)a.css(k,"display")==="none"?a.show(k):a.hide(k)})},addStyleSheet:function(m,k,o){if(f.isString(m)){o=k;k=m;m=window}m=a.get(m);m=a._getWin(m).document;var j;if(o&&(o=o.replace("#","")))j=a.get("#"+o,m);if(!j){j=a.create("<style>",{id:o},m);a.get("head",m).appendChild(j);if(j.styleSheet)j.styleSheet.cssText=k;
else j.appendChild(m.createTextNode(k))}},unselectable:function(m){a.query(m).each(function(k){if(k)if(l.gecko)k.style.MozUserSelect="none";else if(l.webkit)k.style.KhtmlUserSelect="none";else if(l.ie||l.opera){var o=0,j=k.getElementsByTagName("*");for(k.setAttribute("unselectable","on");k=j[o++];)switch(k.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:k.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)s["float"]="cssFloat";else if(d.style.styleFloat!==
c)s["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,a,l){function c(n,p){var s,v,m=[],k;v=f.require("sizzle");p=e(p);if(f.isString(n))if(n.indexOf(",")!=-1){s=n.split(",");f.each(s,function(o){m.push.apply(m,f.makeArray(c(o,p)))})}else{n=f.trim(n);if(u.test(n)){if(v=g(n.slice(1),p))m=[v]}else if(s=t.exec(String(n))){v=s[1];k=s[2];s=s[3];if(p=v?g(v,p):p)if(s)if(!v||n.indexOf(w)!==-1)m=f.makeArray(x(s,k,p));else{if((v=g(v,p))&&a.hasClass(v,s))m=[v]}else if(k)m=b(k,p)}else if(v)m=v(n,p);else d(n)}else if(n&&(f.isArray(n)||
q(n)))m=n;else if(n)m=[n];if(q(m))m=f.makeArray(m);m.each=function(o,j){return f.each(m,o,j)};return m}function e(n){if(n===l)n=h;else if(f.isString(n)&&u.test(n))n=g(n.slice(1),h);else if(f.isArray(n)||q(n))n=n[0]||null;else if(n&&n.nodeType!==1&&n.nodeType!==9)n=null;return n}function g(n,p){if(!p)return null;if(p.nodeType!==9)p=p.ownerDocument;return p.getElementById(n)}function b(n,p){return p.getElementsByTagName(n)}function d(n){f.error("Unsupported selector: "+n)}var h=document,q=a._isNodeList,
w=" ",u=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var n=h.createElement("div");n.appendChild(h.createComment(""));if(n.getElementsByTagName("*").length>0)b=function(p,s){var v=f.makeArray(s.getElementsByTagName(p));if(p==="*"){for(var m=[],k=0,o=0,j;j=v[k++];)if(j.nodeType===1)m[o++]=j;v=m}return v}})();var x=h.getElementsByClassName?function(n,p,s){s=n=f.makeArray(s.getElementsByClassName(n));var v=0,m=0,k=n.length,o;if(p&&p!=="*"){s=[];for(p=p.toUpperCase();v<k;++v){o=
n[v];if(o.tagName===p)s[m++]=o}}return s}:h.querySelectorAll?function(n,p,s){return s.querySelectorAll((p?p:"")+"."+n)}:function(n,p,s){p=s.getElementsByTagName(p||"*");s=[];var v=0,m=0,k=p.length,o,j;for(n=w+n+w;v<k;++v){o=p[v];if((j=o.className)&&(w+j+w).indexOf(n)>-1)s[m++]=o}return s};f.mix(a,{query:c,get:function(n,p){return c(n,p)[0]||null},filter:function(n,p,s){var v=c(n,s),m=f.require("sizzle"),k,o,j,i=[];if(f.isString(p)&&(k=t.exec(p))&&!k[1]){o=k[2];j=k[3];p=function(r){return!(o&&r.tagName.toLowerCase()!==
o.toLowerCase()||j&&!a.hasClass(r,j))}}if(f.isFunction(p))i=f.filter(v,p);else if(p&&m)i=m._filter(n,p,s);else d(p);return i},test:function(n,p,s){n=c(n,s);return n.length&&a.filter(n,p,s).length===n.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,a,l,c,e){if(!l.ie)return a;c=document;var g=c.documentElement,b=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,h=/^-?\d/,q=/^(?:width|height)$/;try{if(g.style.opacity==e&&g.filters)b.opacity={get:function(x){var n=100;try{n=x.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{n=x.filters("alpha").opacity}catch(s){if(x=((x.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))n=parseInt(f.trim(x[1]))}}return n/100+""},set:function(x,n){var p=x.style,
s=(x.currentStyle||0).filter||"";p.zoom=1;if(s)s=f.trim(s.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(s&&n!=1)s+=", ";p.filter=s+(n!=1?"alpha(opacity="+n*100+")":"")}}}catch(w){f.log("IE filters ActiveX is disabled. ex = "+w)}l=l.ie==8;var u={},t={get:function(x,n){var p=x.currentStyle[n]+"";if(p.indexOf("px")<0)p=u[p]?u[p]:0;return p}};u.thin=l?"1px":"2px";u.medium=l?"3px":"4px";u.thick=l?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(x){b["border"+x+"Width"]=t});if(!(c.defaultView||
{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(x,n){var p=x.style,s=x.currentStyle[n];if(q.test(n))s=a[n](x)+"px";else if(!d.test(s)&&h.test(s)){var v=p.left,m=x.runtimeStyle.left;x.runtimeStyle.left=x.currentStyle.left;p.left=n==="fontSize"?"1em":s||0;s=p.pixelLeft+"px";p.left=v;x.runtimeStyle.left=m}return s};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,a,l){function c(d,h,q,w,u,t){if(!(d=a.get(d)))return null;if(h===0)return d;t||(d=d[q]);if(!d)return null;u=u&&a.get(u)||null;if(h===l)h=1;t=[];var x=f.isArray(h),n,p;if(f.isNumber(h)){n=0;p=h;h=function(){return++n===p}}do if(b(d)&&e(d,h)&&(!w||w(d))){t.push(d);if(!x)break}while(d!=u&&(d=d[q]));return x?t:t[0]||null}function e(d,h){if(!h)return true;if(f.isArray(h))for(var q=0;q<h.length;q++){if(a.test(d,h[q]))return true}else if(a.test(d,h))return true;return false}
function g(d,h,q){var w=[];var u=d=a.get(d);if(d&&q)u=d.parentNode;if(u){q=0;for(u=u.firstChild;u;u=u.nextSibling)if(b(u)&&u!==d&&(!h||a.test(u,h)))w[q++]=u}return w}var b=a._isElementNode;f.mix(a,{closest:function(d,h,q){return c(d,h,"parentNode",function(w){return w.nodeType!=11},q,true)},parent:function(d,h,q){return c(d,h,"parentNode",function(w){return w.nodeType!=11},q)},next:function(d,h){return c(d,h,"nextSibling",l)},prev:function(d,h){return c(d,h,"previousSibling",l)},siblings:function(d,
h){return g(d,h,true)},children:function(d,h){return g(d,h,l)},contains:document.documentElement.contains?function(d,h){d=a.get(d);h=a.get(h);if(d.nodeType==3)return false;var q;if(h.nodeType==3){h=h.parentNode;q=true}else if(h.nodeType==9)return false;else q=d!==h;return q&&(d.contains?d.contains(h):true)}:document.documentElement.compareDocumentPosition?function(d,h){d=a.get(d);h=a.get(h);return!!(d.compareDocumentPosition(h)&16)}:0,equals:function(d,h){d=a.query(d);h=a.query(h);if(d.length!=h.length)return false;
for(var q=d.length;q>=0;q--)if(d[q]!=h[q])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,a){function l(g,b,d){this.currentTarget=g;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=d;this.target=g}this.currentTarget=g;this.fixed=true}var c=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(l,{_fix:function(){var g=this.originalEvent,b=e.length,d,h=this.currentTarget;for(h=h.nodeType===9?h:h.ownerDocument||c;b;){d=e[--b];this[d]=g[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){g=h.documentElement;b=h.body;this.pageX=this.clientX+(g&&g.scrollLeft||b&&b.scrollLeft||
0)-(g&&g.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||b&&b.scrollTop||0)-(g&&g.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return l});
KISSY.add("event/base",function(f,a,l,c){function e(p,s,v){if((v=f.trim(v))&&v.indexOf(w)>0){var m=f.makeArray(arguments);f.each(v.split(w),function(k){var o=f.clone(m);o.splice(0,3,s,k);n[p].apply(n,o)});return true}return c}function g(p){return p&&p.nodeType!==3&&p.nodeType!==8}function b(p,s,v,m,k){var o=n.special[s]||{};if(!m.length&&(!o.setup||o.setup.call(p)===false))h(p,s,v);o.add&&o.add.call(p,k)}var d=document,h=d.addEventListener?function(p,s,v,m){p.addEventListener&&p.addEventListener(s,
v,!!m)}:function(p,s,v){p.attachEvent&&p.attachEvent("on"+s,v)},q=d.removeEventListener?function(p,s,v,m){p.removeEventListener&&p.removeEventListener(s,v,!!m)}:function(p,s,v){p.detachEvent&&p.detachEvent("on"+s,v)},w=" ",u="",t="trigger-none-"+f.now(),x="ksEventTargetId"+f.now(),n={_data:function(){var p=f.makeArray(arguments);p.splice(1,0,x);return a.data.apply(a,p)},_removeData:function(){var p=f.makeArray(arguments);p.splice(1,0,x);return a.removeData.apply(a,p)},special:{},add:function(p,s,
v,m,k){if(e("add",p,s,v,m,k))return p;a.query(p).each(function(o){var j=!o.isCustomEventTarget,i;if(!(!o||!s||!f.isFunction(v)||j&&!g(o))){(i=n._data(o))||n._data(o,i={});var r=i.events=i.events||{};r=r[s]=r[s]||[];var y={fn:v,scope:m||o,data:k},z=i.handler;if(!z){z=i.handler=function(A,B){if(!(A&&A.type==u)){var C=z.target;if(!A||!A.fixed)A=new l(C,A);f.isPlainObject(B)&&f.mix(A,B);return n._handle(C,A)}};z.target=o}if(j){b(o,s,z,r,y);o=null}r.push(y)}});return p},__getListeners:function(p,s){return(n.__getEvents(p)||
{})[s]||[]},__getEvents:function(p){return(p=n._data(p))&&p.events},remove:function(p,s,v,m,k){if(e("remove",p,s,v,m))return p;a.query(p).each(function(o){var j=n._data(o),i=j&&j.events,r,y,z,A,B,C=!o.isCustomEventTarget,D=C&&n.special[s]||{};if(!(!o||!C&&!g(o)||!i))if(s===c)for(s in i)n.remove(o,s);else{m=m||o;if(r=i[s]){y=r.length;if(f.isFunction(v)&&y){A=z=0;for(B=[];z<y;++z){var E=false,F=r[z];if(v!==F.fn||m!==F.scope){B[A++]=F;E=true}else if(k!==G){var G=F.data;if(!k&&G||G&&!k){B[A++]=F;E=true}else if(k&&
G)if(!k.equals||!G.equals)f.error("no equals in data");else if(!G.equals(k)){B[A++]=F;E=true}}!E&&D.remove&&D.remove.call(o,F)}i[s]=B;y=B.length}if(v===c||y===0){if(C&&(!D.tearDown||D.tearDown.call(o)===false))q(o,s,j.handler);delete i[s]}}if(f.isEmptyObject(i)){j.handler.target=null;delete j.handler;delete j.events;n._removeData(o)}}});return p},_handle:function(p,s){for(var v=n.__getListeners(p,s.type).slice(0),m,k,o=0,j=v.length;o<j;++o){m=v[o];m=m.fn.call(m.scope,s,m.data);if(m!==c){if(k!==false)k=
m;m===false&&s.halt()}if(s.isImmediatePropagationStopped)break}return k},fire:function(p,s,v){if(!e("fire",p,s,v)){var m;a.query(p).each(function(k){var o=!k.isCustomEventTarget;v=v||{};v.type=s;if(o){o=v;var j;if(g(k)){o=new l(k,o);var i=o.target=k,r="on"+s;do{var y=(n._data(i)||{}).handler;o.currentTarget=i;y&&y.call(i,o);if(i[r]&&i[r].call(i)===false){j=false;o.preventDefault()}i=i.parentNode||i.ownerDocument||i===k.ownerDocument&&window}while(i&&!o.isPropagationStopped);if(!o.isDefaultPrevented)if(!(s===
"click"&&k.nodeName.toLowerCase()=="a")){var z;try{if(r&&k[s]){if(z=k[r])k[r]=null;u=s;k[s]()}}catch(A){}if(z)k[r]=z;u=t}}k=j;if(k!==c)m=k}else if((k=n._data(k))&&f.isFunction(k.handler))m=k.handler(c,v)});return m}},_batchForType:e,_simpleAdd:h,_simpleRemove:q};n.on=n.add;n.detach=n.remove;return n},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,a){return{isCustomEventTarget:true,fire:function(l,c){return a.fire(this,l,c)},on:function(l,c,e){a.add(this,l,c,e);return this},detach:function(l,c,e){a.remove(this,l,c,e);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(f,a,l){a.ie||f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function e(b){return l.fire(b.target,c.name)}var g=0;l.special[c.name]={setup:function(){g++===0&&document.addEventListener(c.fix,e,true)},tearDown:function(){--g===0&&document.removeEventListener(c.fix,e,true)}}});return l},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(f,a,l,c){c=document.documentMode||c.ie;if(!("onhashchange"in window)||c<8){var e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},g=function(){b()},b=function(){var t=e();if(t!==u){d(t);u=t}q=setTimeout(b,50)},d=function(t){h(t)},h=function(t){f.log("hash changed : "+t);for(t=0;t<w.length;t++)a._handle(w[t],{type:"hashchange"})},q,w=[],u=e();a.special.hashchange={setup:function(){-1===f.indexOf(this,w)&&w.push(this);q||g()},tearDown:function(){var t=
f.indexOf(this,w);t>=0&&w.splice(t,1);if(w.length===0){q&&clearTimeout(q);q=null}}};c<8&&function(){var t;g=function(){if(!t){t=l.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');l.prepend(t,document.documentElement);a.add(t,"load",function(){a.remove(t,"load");d(e());a.add(t,"load",x);b()});var x=function(){var n=f.trim(t.contentWindow.document.body.innerHTML),p=e();if(n!=p)u=location.hash=n;h(n)}}};d=function(x){x="<html><body>"+x+"</body></html>";var n=
t.contentWindow.document;try{n.open();n.write(x);n.close();return true}catch(p){return false}}}()}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(f,a,l){function c(n){var p=l.data(n,w);if(!p){p=+new Date;l.data(n,w,p)}return p}function e(n){n=c(n);delete u[n];if(t[n]){clearTimeout(t[n]);delete t[n]}}function g(n){e(n.target)}function b(n){var p=c(n);t[p]||(t[p]=setTimeout(function(){var s=n.value;if(s!==u[p]){a._handle(n,{type:q,prevVal:u[p],newVal:s});u[p]=s}t[p]=setTimeout(arguments.callee,x)},x))}function d(n){var p=n.target;if(n.type=="focus"){n=c(p);u[n]=p.value}b(p)}function h(n){e(n);a.remove(n,
"blur",g);a.remove(n,"mousedown keyup keydown focus",d);l.removeData(n,w)}var q="valueChange",w="event/valuechange",u={},t={},x=50;a.special[q]={fix:false,setup:function(){var n=this.nodeName.toLowerCase();if("input"==n||"textarea"==n){h(this);a.on(this,"blur",g);a.on(this,"mousedown keyup keydown focus",d)}},tearDown:function(){h(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(f,a,l){function c(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function e(d,h){var q,w=a.closest(d.target,[h.selector],this);if(w)for(var u=0;u<w.length;u++){d.currentTarget=w[u];var t=h.fn.call(h.scope||this,d);if(t===false||d.isPropagationStopped||d.isImmediatePropagationStopped){if(t===false)q=t;if(d.isPropagationStopped||d.isImmediatePropagationStopped)break}}return q}
var g=l._batchForType,b={focus:"focusin",blur:"focusout"};f.mix(l,{delegate:function(d,h,q,w,u){if(g("delegate",d,h,q,w,u))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){h=b[h]||h;l.on(t,h,e,t,{fn:w,selector:q,scope:u,equals:c})}});return d},undelegate:function(d,h,q,w,u){if(g("undelegate",d,h,q,w,u))return d;a.query(d).each(function(t){if(!t.isCustomEventTarget){h=b[h]||h;l.remove(t,h,e,t,{fn:w,selector:q,scope:u,equals:c})}});return d}});return l},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(f,a,l,c){c.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){function g(b){var d=this,h=b.relatedTarget;b.type=e.name;try{if(!(h&&h!==document&&!h.parentNode)){h=l.closest(h,function(w){return w==d});h!==d&&a._handle(d,b)}}catch(q){f.log("withinElement :"+q)}}a.special[e.name]={setup:function(){a.add(this,e.fix,g)},tearDown:function(){a.remove(this,e.fix,g)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(f,a,l,c){a.Target=l;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(f,a,l){function c(b,d,h){if(!(this instanceof c))return new c(b,d,h);if(b)if(f.isString(b)){b=a.create(b,d,h);if(b.nodeType===11){e.push.apply(this,f.makeArray(b.childNodes));return l}}else if(f.isArray(b)||g(b)){e.push.apply(this,f.makeArray(b));return l}else b=b;else return l;this[0]=b;this.length=1;return l}var e=Array.prototype,g=a._isNodeList;f.augment(c,{length:0,item:function(b){if(f.isNumber(b)){if(b>=this.length)return null;return new c(this[b],l,l)}else return new c(b,
l,l)},add:function(b,d,h){if(f.isNumber(d)){h=d;d=l}b=f.makeArray(c.all(b,d));d=new c(this,l,l);if(h===l)e.push.apply(d,b);else{h=[h,0];h.push.apply(h,b);e.splice.apply(d,h)}return d},slice:function(b,d){return new c(e.slice.call(this,b,d),l,l)},getDOMNodes:function(){return e.slice.call(this)},each:function(b,d){var h=this.length,q=0,w;for(w=new c(this[0],l,l);q<h&&b.call(d||w,w,q,this)!==false;w=new c(this[++q],l,l));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return c.all(b,this[0]);return new c(l,l,l)}});c.prototype.one=function(b){b=this.all(b);return b.length?b:null};c.all=function(b,d){if(f.isString(b)&&(b=f.trim(b))&&b.length>=3&&f.startsWith(b,"<")&&f.endsWith(b,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(b,l,d)}return new c(a.query(b,d),l,l)};c.one=function(b,d){var h=c.all(b,d);return h.length?h:null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(f,a,l,c,e){function g(d,h,q){q.unshift(h);d=a[d].apply(a,q);if(d===e)return h;return d}var b=c.prototype;f.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(d){b[d]=function(){var h=
f.makeArray(arguments);return g(d,this,h)}});f.each(["filter","parent","closest","next","prev","siblings","children"],function(d){b[d]=function(){var h=f.makeArray(arguments);h.unshift(this);h=a[d].apply(a,h);h=h===e?this:h===null?null:new c(h);return h}});f.each({attr:1,text:1,css:1,val:0,prop:1,offset:1,html:0,data:1},function(d,h){b[h]=function(){var q=f.makeArray(arguments);if(q[d]===e&&!f.isObject(q[0])){q.unshift(this);q=a[h].apply(a,q)}else q=g(h,this,q);return q}});f.each(["on","detach","fire",
"delegate","undelegate"],function(d){b[d]=function(){var h=f.makeArray(arguments);h.unshift(this);return l[d].apply(l,h)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(f,a,l,c){f.each(["append","prepend","before","after"],function(e){c.prototype[e]=function(g){g=g;if(f.isString(g))g=a.create(g);a[e](g,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var f=Math,a=f.PI,l=f.pow,c=f.sin,e=1.70158,g={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(l(2,10*(b-=1))*c((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return l(2,-10*b)*c((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*l(2,10*(b-=1))*c((b-0.1125)*2*a/0.45);return l(2,-10*(b-=1))*c((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((e+1)*b-e)},backOut:function(b){return(b-=1)*b*((e+1)*b+e)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((e*=1.525)+1)*b-e);return 0.5*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)},bounceIn:function(b){return 1-g.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return g.bounceIn(b*2)*0.5;return g.bounceOut(b*2-1)*0.5+0.5}};g.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return g});
KISSY.add("anim/manager",function(f){function a(c){c[l]=c[l]||f.guid("anim-");return c[l]}var l=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var e=a(c);if(!this.runnings[e]){this.runnings[e]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,e=this.runnings,g;for(g in e)if(e.hasOwnProperty(g)){c=false;e[g]._runFrame()}return c}}});
KISSY.add("anim/base",function(f,a,l,c,e,g,b){function d(m,k,o,j,i,r){if(m=a.get(m)){if(!(this instanceof d))return new d(m,k,o,j,i,r);var y=f.isPlainObject(o);k=k;this.domEl=m;if(f.isPlainObject(k))k=String(f.param(k,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=k,A=m;m={};var B=u.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(q(C,z);B--;){var D=u[B];if(A[D])m[D]=(s[D]||s["*"]).getter(C,D)}z=w(z);for(var E in z)m[E]=(s[E]||s["*"]).getter(C,
E);a.remove(C);this.props=m;this.targetStyle=k;if(y)y=f.merge(n,o);else{y=f.clone(n);if(o)y.duration=parseFloat(o)||1;if(f.isString(j)||f.isFunction(j))y.easing=j;if(f.isFunction(i))y.complete=i;if(r!==b)y.nativeSupport=r}if(!f.isEmptyObject(w(k)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&v()&&f.isString(j=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=c.NativeTimeFunction[j])){y.easing=j;this.transitionName=v()}if(f.isFunction(i))this.callback=i}}function h(m,k){return k}function q(m,
k){if(e.ie&&k.indexOf(x)>-1){var o=k.match(/opacity\s*:\s*([^;]+)(;|$)/);o&&a.css(m,x,parseFloat(o[1]))}m.style.cssText+=";"+k;o=w(k);for(var j in o)m[j]=o[j]}function w(m){for(var k={},o=0;o<t.length;o++){var j=t[o].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(j=m.match(RegExp(j+"\\s*:([^;]+)(;|$)")))k[t[o]]=f.trim(j[1])}return k}var u,t,x,n,p;l=l.Target;u="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
t=[];x="opacity";n={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=u;d.CUSTOM_ATTRS=t;d.PROP_OPS={"*":{getter:function(m,k){var o=a.css(m,k),j=parseFloat(o);o=(o+"").replace(/^[-\d.]+/,"");if(isNaN(j))return{v:o,u:"",f:h};return{v:j,u:o,f:this.interpolate}},setter:function(m,k,o){return a.css(m,k,o)},interpolate:function(m,k,o){return(m+(k-m)*o).toFixed(3)},eq:function(m,k){return m.v==k.v&&m.u==k.u}}};var s=d.PROP_OPS;f.augment(d,l,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var m=this.config,k=this.domEl,o,j=this.props,i={},r;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=o=m.duration*1E3;if(this.transitionName)this._nativeRun();else{for(r in j)i[r]=(s[r]||s["*"]).getter(k,r);this.source=i;k=f.now();o=k+o;m=m.easing;if(f.isString(m))m=c[m]||c.easeNone;this.start=k;this.finish=o;this.easing=m;g.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=
this.domEl,k=this.finish,o=this.start,j=this.duration,i=f.now(),r=this.source,y=this.easing,z=this.props,A;o=i-o;j=i>k?1:o/j;var B,C;this.elapsedTime=o;for(A in z){o=r[A];B=z[A];var D;D=B;var E=o,F=s[A];D=F&&F.eq?F.eq(D,E):s["*"].eq(D,E);if(!D){if(B.v==0)B.u=o.u;if(o.u!==B.u){o.v=0;o.u=B.u}D=B.f(o.v,B.v,y(j))+B.u;(s[A]||s["*"]).setter(m,A,D);if(B.f==h){o.v=B.v;o.u=B.u}}}if(this.fire("step")===false||(C=i>k)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,k=m.domEl,o=m.duration,
j=m.config.easing,i=m.transitionName,r={};r[i+"Property"]="all";r[i+"Duration"]=o+"ms";r[i+"TimingFunction"]=j;a.css(k,r);f.later(function(){q(k,m.targetStyle)},0);f.later(function(){m.stop(true)},o)},stop:function(m){if(this.isRunning){if(this.transitionName)this._nativeStop(m);else{if(m){q(this.domEl,this.targetStyle);this._complete()}g.stop(this)}this.isRunning=false;return this}},_nativeStop:function(m){var k=this.domEl,o=this.transitionName,j=this.props,i;if(m){a.css(k,o+"Property","none");this._complete()}else{for(i in j)a.css(k,
i,a._getComputedStyle(k,i));a.css(k,o+"Property","none")}}});d.supportTransition=function(){if(p)return p;var m="transition",k,o=document.documentElement;if(o.style[m]!==b)k=m;else f.each(["Webkit","Moz","O"],function(j){if(o.style[m=j+"Transition"]!==b){k=m;return false}});return p=k};var v=d.supportTransition;return d},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(f,a,l){function c(q){q=q.toLowerCase();var w;if(w=q.match(g))return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])];else if(w=q.match(b)){for(q=1;q<w.length;q++)if(w[q].length<2)w[q]+=w[q];return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}if(e[q])return e[q];f.log("only allow rgb or hex color string : "+q,"warn");return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},g=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),h=l.PROP_OPS;l=l.PROPS;l.push.apply(l,d);h.color={getter:function(q,w){return{v:c(a.css(q,w)),u:"",f:this.interpolate}},
setter:h["*"].setter,interpolate:function(q,w,u){var t=h["*"].interpolate;return"rgb("+[Math.floor(t(q[0],w[0],u)),Math.floor(t(q[1],w[1],u)),Math.floor(t(q[2],w[2],u))].join(", ")+")"},eq:function(q,w){return q.v+""==w.v+""}};f.each(d,function(q){h[q]=h.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(f,a,l){var c=l.PROP_OPS;l.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(e,g){return{v:e[g],u:"",f:c["*"].interpolate}},setter:function(e,g,b){e[g]=b}}},{requires:["dom","./base"]});KISSY.add("anim",function(f,a,l){a.Easing=l;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(f,a,l,c,e){function g(s,v,m,k,o,j,i){if(v==="toggle"){o=a.css(s,h)===q?1:0;v="show"}if(o)a.css(s,h,a.data(s,h)||"");var r={},y={};f.each(p[v],function(z){if(z===w){r[w]=a.css(s,w);a.css(s,w,u)}else if(z===t){r[t]=a.css(s,t);y.opacity=o?1:0;o&&a.css(s,t,0)}else if(z===x){r[x]=a.css(s,x);y.height=o?a.css(s,x)||s.naturalHeight:0;o&&a.css(s,x,0)}else if(z===n){r[n]=a.css(s,n);y.width=o?a.css(s,n)||s.naturalWidth:0;o&&a.css(s,n,0)}});return(new l(s,y,m,j||"easeOut",
function(){if(!o){var z=s.style,A=z[h];if(A!==q){A&&a.data(s,h,A);z[h]=q}r[x]&&a.css(s,{height:r[x]});r[n]&&a.css(s,{width:r[n]});r[t]&&a.css(s,{opacity:r[t]});r[w]&&a.css(s,{overflow:r[w]})}k&&f.isFunction(k)&&k()},i)).run()}var b=c.prototype,d="ksAnims"+f.now(),h="display",q="none",w="overflow",u="hidden",t="opacity",x="height",n="width",p={show:[w,t,x,n],fade:[t],slide:[w,x]};c.__ANIM_KEY=d;(function(s){function v(m,k){var o=a.data(m,d);o||a.data(m,d,o=[]);k.on("complete",function(){var j=a.data(m,
d);if(j){var i=f.indexOf(k,j);i>=0&&j.splice(i,1);j.length||a.removeData(m,d)}});o.push(k)}s.animate=function(){var m=f.makeArray(arguments);f.each(this,function(k){var o=l.apply(e,[k].concat(m)).run();v(k,o)});return this};s.stop=function(m){f.each(this,function(k){var o=a.data(k,d);if(o){f.each(o,function(j){j.stop(m)});a.removeData(k,d)}});return this};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(m,
k){s[k]=function(o,j,i,r){a[k]&&arguments.length===0?a[k](this):f.each(this,function(y){var z=g(y,m[0],o,j,m[1],i,r);v(y,z)});return this}})})(b)},{requires:["dom","anim","./base"]});KISSY.add("node",function(f,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(f,a){function l(x){return x<10?"0"+x:x}function c(x){h.lastIndex=0;return h.test(x)?'"'+x.replace(h,function(n){var p=u[n];return typeof p==="string"?p:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function e(x,n){var p,s,v,m,k=q,o,j=n[x];if(j&&typeof j==="object"&&typeof j.toJSON==="function")j=j.toJSON(x);if(typeof t==="function")j=t.call(n,x,j);switch(typeof j){case "string":return c(j);case "number":return isFinite(j)?String(j):"null";case "boolean":case "null":return String(j);
case "object":if(!j)return"null";q+=w;o=[];if(Object.prototype.toString.apply(j)==="[object Array]"){m=j.length;for(p=0;p<m;p+=1)o[p]=e(p,j)||"null";v=o.length===0?"[]":q?"[\n"+q+o.join(",\n"+q)+"\n"+k+"]":"["+o.join(",")+"]";q=k;return v}if(t&&typeof t==="object"){m=t.length;for(p=0;p<m;p+=1){s=t[p];if(typeof s==="string")if(v=e(s,j))o.push(c(s)+(q?": ":":")+v)}}else for(s in j)if(Object.hasOwnProperty.call(j,s))if(v=e(s,j))o.push(c(s)+(q?": ":":")+v);v=o.length===0?"{}":q?"{\n"+q+o.join(",\n"+q)+
"\n"+k+"}":"{"+o.join(",")+"}";q=k;return v}}var g=window,b=g.JSON;if(!b||a.ie<9)b=g.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,w,u={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof b.stringify!=="function")b.stringify=function(x,n,p){var s;w=q="";if(typeof p==="number")for(s=0;s<p;s+=1)w+=" ";else if(typeof p==="string")w=p;if((t=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return e("",{"":x})};if(typeof b.parse!==
"function")b.parse=function(x,n){function p(v,m){var k,o,j=v[m];if(j&&typeof j==="object")for(k in j)if(Object.hasOwnProperty.call(j,k)){o=p(j,k);if(o!==undefined)j[k]=o;else delete j[k]}return n.call(v,m,j)}var s;x=String(x);d.lastIndex=0;if(d.test(x))x=x.replace(d,function(v){return"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){s=eval("("+x+")");return typeof n==="function"?p({"":s},""):s}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(f,a){return{parse:function(l){if(l==null||l==="")return null;return a.parse(l)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(f,a){function l(g){var b=g.responseText,d=g.responseXML,h=g.config,q=h.converters,w=g.converters||{},u,t,x=h.contents,n=h.dataType;if(b||d){for(h=g.mimeType||g.getResponseHeader("Content-Type");n[0]=="*";)n.shift();if(!n.length)for(u in x)if(x[u].test(h)){n[0]!=u&&n.unshift(u);break}n[0]=n[0]||"text";if(n[0]=="text"&&b!=undefined)t=b;else if(n[0]=="xml"&&d!=undefined)t=d;else f.each(["text","xml"],function(s){var v=n[0];if(w[s]&&w[s][v]||q[s]&&q[s][v]){n.unshift(s);
t=s=="text"?b:d;return false}})}x=n[0];for(h=1;h<n.length;h++){u=n[h];var p=w[x]&&w[x][u]||q[x]&&q[x][u];if(!p)throw"no covert for "+x+" => "+u;t=p(t);x=u}g.responseData=t}function c(g){f.mix(this,{responseData:null,config:g||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var e=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;f.augment(c,a.Target,{setRequestHeader:function(g,b){this.requestHeaders[g]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(g){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=e.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[g]}return b===undefined?null:b},overrideMimeType:function(g){if(!this.state)this.mimeType=g;return this},abort:function(g){g=g||"abort";this.transport&&this.transport.abort(g);this.callback(0,g);return this},
callback:function(g,b){if(this.state!=2){this.state=2;this.readyState=4;var d;if(g>=200&&g<300||g==304)if(g==304){b="notmodified";d=true}else try{l(this);b="success";d=true}catch(h){b="parsererror : "+h}else if(g<0)g=0;this.status=g;this.statusText=b;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(f,a,l,c){function e(v){v=f.mix(f.clone(s),v||{},undefined,undefined,true);if(v.crossDomain==null){var m=q.exec(v.url.toLowerCase());v.crossDomain=!!(m&&(m[1]!=x[1]||m[2]!=x[2]||(m[3]||(m[1]==="http:"?80:443))!=(x[3]||(x[1]==="http:"?80:443))))}if(v.processData&&v.data&&!f.isString(v.data))v.data=f.param(v.data,undefined,undefined,v.serializeArray);v.type=v.type.toUpperCase();v.hasContent=!u.test(v.type);if(!v.hasContent){if(v.data)v.url+=(/\?/.test(v.url)?"&":"?")+v.data;
if(v.cache===false)v.url+=(/\?/.test(v.url)?"&":"?")+"_ksTS="+(f.now()+"_"+f.guid())}v.dataType=f.trim(v.dataType||"*").split(h);v.context=v.context||v;return v}function g(v,m){d.fire(v,{ajaxConfig:m.config,xhr:m})}function b(v){var m=this.config;v=v.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);m[v]&&m[v].call(m.context,this.responseData,this.statusText,this);g(v,this)}function d(v){if(v.url){v=e(v);var m=new c(v);g("start",m);var k=new (p[v.dataType[0]]||p["*"])(m);m.transport=k;v.contentType&&
m.setRequestHeader("Content-Type",v.contentType);var o=v.dataType[0],j=v.accepts;m.setRequestHeader("Accept",o&&j[o]?j[o]+(o!=="*"?", */*; q=0.01":""):j["*"]);for(var i in v.headers)m.setRequestHeader(i,v.headers[i]);m.on("complete success error",b);m.readyState=1;g("send",m);if(v.async&&v.timeout>0)m.timeoutTimer=setTimeout(function(){m.abort("timeout")},v.timeout);try{m.state=1;k.send()}catch(r){m.status<2?m.callback(-1,r):f.error(r)}return m}}var h=/\s+/,q=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
w=function(v){return v},u=/^(?:GET|HEAD)$/,t,x;try{t=location.href}catch(n){t=document.createElement("a");t.href="";t=t.href}x=q.exec(t);t=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var p={},s={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:w,text:w,xml:f.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};s.converters.html=s.converters.text;f.mix(d,l.Target);f.mix(d,{isLocal:t,setupConfig:function(v){f.mix(s,v,undefined,undefined,true)},setupTransport:function(v,m){p[v]=m},getTransport:function(v){return p[v]},getConfig:function(){return s}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(f,a){function l(){try{return new window.XMLHttpRequest}catch(g){}}a.xhr=window.ActiveXObject?function(){var g;if(!(g=!a.isLocal&&l()))a:{try{g=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}g=void 0}return g}:l;var c=a.xhr(),e=false;if(c){if("withCredentials"in c)e=true;c=function(g){this.xhrObj=g};f.augment(c,{send:function(){var g=this,b=g.xhrObj,d=b.config;if(d.crossDomain&&!e)f.error("do not allow crossdomain xhr !");else{var h=a.xhr(),q,w;g.xhr=
h;d.username?h.open(d.type,d.url,d.async,d.username,d.password):h.open(d.type,d.url,d.async);if(q=d.xhrFields)for(w in q)h[w]=q[w];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);if(!d.crossDomain&&!b.requestHeaders["X-Requested-With"])b.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(w in b.requestHeaders)h.setRequestHeader(w,b.requestHeaders[w])}catch(u){}h.send(d.hasContent&&d.data||null);if(!d.async||h.readyState==4)g._callback();else h.onreadystatechange=function(){g._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(g,b){try{var d=this.xhr,h=this.xhrObj,q=h.config;if(b||d.readyState==4){d.onreadystatechange=f.noop;if(b)d.readyState!==4&&d.abort();else{var w=d.status;h.responseHeadersString=d.getAllResponseHeaders();var u=d.responseXML;if(u&&u.documentElement)h.responseXML=u;h.responseText=d.responseText;try{var t=d.statusText}catch(x){t=""}if(!w&&a.isLocal&&!q.crossDomain)w=h.responseText?200:404;else if(w===1223)w=204;h.callback(w,t)}}}catch(n){d.onreadystatechange=
f.noop;b||h.callback(-1,n)}}});a.setupTransport("*",c);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(f,a){function l(c){if(!c.config.crossDomain&&!c.config.forceScript)return new (a.getTransport("*"))(c);this.xhrObj=c;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(c){f.globalEval(c);return c}}}});f.augment(l,{send:function(){var c=this,e,g=this.xhrObj.config,b=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;c.head=b;e=document.createElement("script");c.script=e;e.async="async";if(g.scriptCharset)e.charset=g.scriptCharset;e.src=g.url;e.onerror=e.onload=e.onreadystatechange=function(d){d=d||window.event;c._callback((d.type||"error").toLowerCase())};b.insertBefore(e,b.firstChild)},_callback:function(c,e){var g=this.script,b=this.xhrObj,d=this.head;if(e||!g.readyState||/loaded|complete/.test(g.readyState)||c=="error"){g.onerror=g.onload=g.onreadystatechange=null;d&&g.parentNode&&
d.removeChild(g);this.head=this.script=undefined;if(!e&&c!="error")b.callback(200,"success");else c=="error"&&b.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",l);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(f,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return f.guid("jsonp")}});a.on("start",function(l){l=l.xhr;var c=l.config;if(c.dataType[0]=="jsonp"){var e,g=c.jsonpCallback,b=f.isFunction(g)?g():g,d=window[b];c.url+=(/\?/.test(c.url)?"&":"?")+c.jsonp+"="+b;window[b]=function(h){e=[h]};l.on("complete",function(){window[b]=d;if(d===undefined)try{delete window[b]}catch(h){}else e&&d(e[0])});l.converters=l.converters||{};l.converters.script=l.converters.script||
{};l.converters.script.json=function(){e||f.error(" not call jsonpCallback : "+b);return e[0]};c.dataType.length=2;c.dataType[0]="script";c.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(f,a){return{serialize:function(l){l=a.get(l);var c={};f.each(l.elements,function(e){e.disabled||(c[e.name]=a.val(e))});return f.param(c,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(f,a,l,c){a.on("start",function(e){e=e.xhr.config;if(e.form){var g=l.get(e.form);if((g.encoding||g.enctype).toLowerCase()!="multipart/form-data"){if(g=c.serialize(g))if(e.hasContent){e.data=e.data||"";if(e.data)e.data+="&";e.data+=g}else e.url+=(/\?/.test(e.url)?"&":"?")+g}else{g=e.dataType[0];if(g=="*")g="text";e.dataType.length=2;e.dataType[0]="iframe";e.dataType[1]=g}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(f,a,l,c){function e(b){this.xhr=b}var g=document;c.setupConfig({converters:{iframe:c.getConfig().converters.text,text:{iframe:function(b){return b}}}});f.augment(e,{send:function(){var b=this.xhr,d=b.config,h,q=a.get(d.form);this.attrs={target:a.attr(q,"target")||"",action:a.attr(q,"action")||""};this.form=q;var w=f.guid("ajax-iframe");b.iframe=a.create("<iframe  id='"+w+"' name='"+w+"' style='position:absolute;left:-9999px;top:-9999px;'/>");b.iframeId=w;a.prepend(b.iframe,
g.body||g.documentElement);a.attr(q,{target:b.iframeId,action:d.url});if(d.data){h=d.data;d=d.serializeArray;h=f.unparam(h);w=[];for(var u in h)for(var t=f.makeArray(h[u]),x=0;x<t.length;x++){var n=g.createElement("input");n.type="hidden";n.name=u+(d?"[]":"");n.value=t[x];a.append(n,q);w.push(n)}h=w}this.fields=h;l.on(b.iframe,"load error",this._callback,this);q.submit()},_callback:function(b){var d=this.xhr;b=b.type;var h=d.iframe;a.attr(this.form,this.attrs);if(b=="load"){b=h.contentWindow.document;
d.responseXML=b;d.responseText=a.text(b.body);d.callback(200,"success")}else b=="error"&&d.callback(500,"error");a.remove(this.fields);l.detach(h);setTimeout(function(){a.remove(h)},30);d.iframe=null},abort:function(){this._callback(0,1)}});c.setupTransport("iframe",e);return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(f,a){f.mix(a,{get:function(l,c,e,g,b){if(f.isFunction(c)){g=e;e=c;c=undefined}return a({type:b||"get",url:l,data:c,success:e,dataType:g})},post:function(l,c,e,g){if(f.isFunction(c)){g=e;e=c;c=undefined}return a.get(l,c,e,g,"post")},jsonp:function(l,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(l,c,e,"jsonp")},getScript:f.getScript,getJSON:function(l,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(l,c,e,"json")},upload:function(l,c,e,g,b){if(f.isFunction(e)){b=
g;g=e;e=undefined}return a({url:l,type:"post",dataType:b,form:c,data:e,success:g})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(f,a){function l(){this.__attrs={};this.__attrVals={}}function c(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}f.augment(l,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(e,g,b){if(this.__attrs[e])f.mix(this.__attrs[e],g,b);else this.__attrs[e]=f.clone(g||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,g){var b=this.get(e);if(b!==g)if(false!==this.__fireAttrChange("before",e,b,g)){this.__set(e,g);this.__fireAttrChange("after",e,b,this.__attrVals[e]);return this}},__fireAttrChange:function(e,g,b,d){return this.fire(e+c(g)+"Change",{attrName:g,prevVal:b,newVal:d})},__set:function(e,g){var b,d=(this.__attrs[e]=this.__attrs[e]||{}).setter;if(d)b=d.call(this,g);if(b!==a)g=b;this.__attrVals[e]=g},get:function(e){var g;g=(g=this.__attrs[e])&&g.getter;e=e in this.__attrVals?this.__attrVals[e]:
this.__getDefAttrVal(e);if(g)e=g.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var g;if(e){if(g=e.valueFn){g=g.call(this);if(g!==a)e.value=g;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});l.__capitalFirst=c;return l});
KISSY.add("base/base",function(f,a,l){function c(e){a.call(this);for(var g=this.constructor;g;){var b=g.ATTRS;if(b){var d=void 0;for(d in b)b.hasOwnProperty(d)&&this.addAttr(d,b[d],false)}g=g.superclass?g.superclass.constructor:null}if(e)for(var h in e)e.hasOwnProperty(h)&&this.__set(h,e[h])}f.augment(c,l.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(f,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var a=document,l=encodeURIComponent,c=decodeURIComponent;return{get:function(e){var g;if(f.isString(e)&&e!=="")if(e=String(a.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))g=e[1]?c(e[1]):"";return g},set:function(e,g,b,d,h,q){g=String(l(g));var w=b;if(typeof w==="number"){w=new Date;w.setTime(w.getTime()+b*864E5)}if(w instanceof Date)g+="; expires="+w.toUTCString();if(f.isString(d)&&d!=="")g+="; domain="+d;if(f.isString(h)&&h!=="")g+="; path="+h;if(q)g+=
"; secure";a.cookie=e+"="+g},remove:function(e,g,b,d){this.set(e,"",-1,g,b,d)}}});KISSY.add("cookie",function(f,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(f,a,l,c,e,g,b,d,h,q){b.getScript=f.getScript;a={UA:a,DOM:l,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:e,NodeList:e,JSON:g,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:d,Easing:d.Easing,Base:h,Cookie:q,one:e.one,all:e.all,get:l.get,query:l.query};f.mix(f,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
