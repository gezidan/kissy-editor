/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Jul 21 15:39
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,a="",k="",d,e={},g=function(b){var c=0;return parseFloat(b.replace(/\./g,function(){return c++===0?".":""}))};if((d=f.match(/AppleWebKit\/([\d.]*)/))&&d[1]){e[a="webkit"]=g(d[1]);if((d=f.match(/Chrome\/([\d.]*)/))&&d[1])e[k="chrome"]=g(d[1]);else if((d=f.match(/\/([\d.]*) Safari/))&&d[1])e[k="safari"]=g(d[1]);if(/ Mobile\//.test(f))e.mobile="apple";else if(d=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=d[0].toLowerCase()}else if((d=
f.match(/Presto\/([\d.]*)/))&&d[1]){e[a="presto"]=g(d[1]);if((d=f.match(/Opera\/([\d.]*)/))&&d[1]){e[k="opera"]=g(d[1]);if((d=f.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])e[k]=g(d[1]);if((d=f.match(/Opera Mini[^;]*/))&&d)e.mobile=d[0].toLowerCase();else if((d=f.match(/Opera Mobi[^;]*/))&&d)e.mobile=d[0]}}else if((d=f.match(/MSIE\s([^;]*)/))&&d[1]){e[a="trident"]=0.1;e[k="ie"]=g(d[1]);if((d=f.match(/Trident\/([\d.]*)/))&&d[1])e[a]=g(d[1])}else if(d=f.match(/Gecko/)){e[a="gecko"]=0.1;if((d=f.match(/rv:([\d.]*)/))&&
d[1])e[a]=g(d[1]);if((d=f.match(/Firefox\/([\d.]*)/))&&d[1])e[k="firefox"]=g(d[1])}e.core=a;e.shell=k;e._numberify=g;return e});
KISSY.add("ua/extra",function(f,a){var k=navigator.userAgent,d,e,g={},b=a._numberify;if(k.match(/360SE/))g[e="se360"]=3;else if(k.match(/Maxthon/)&&(d=window.external)){e="maxthon";try{g[e]=b(d.max_version)}catch(c){g[e]=0.1}}else if(d=k.match(/TencentTraveler\s([\d.]*)/))g[e="tt"]=d[1]?b(d[1]):0.1;else if(k.match(/TheWorld/))g[e="theworld"]=3;else if(d=k.match(/SE\s([\d.]*)/))g[e="sougou"]=d[1]?b(d[1]):0.1;e&&(g.shell=e);f.mix(a,g);return a},{requires:["ua/base"]});
KISSY.add("ua",function(f,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,a){function k(d,e){return d&&d.nodeType===e}return{_isElementNode:function(d){return k(d,1)},_getWin:function(d){return d&&"scrollTo"in d&&d.document?d:k(d,9)?d.defaultView||d.parentWindow:d==a?window:false},_nodeTypeIs:k,_isNodeList:function(d){return d&&!d.nodeType&&d.item&&!d.setTimeout}}});
KISSY.add("dom/attr",function(f,a,k,d){function e(i,j){j=r[j]||j;var s=m[j];if(!i)return d;return s&&s.get?s.get(i,j):i[j]}k=document.documentElement;var g=!k.hasAttribute,b=k.textContent!==d?"textContent":"innerText",c=a._isElementNode,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,v=/:|^on/,t=/\r/g,x={},o={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},q={tabindex:{get:function(i){var j=i.getAttributeNode("tabindex");return j&&j.specified?parseInt(j.value,10):p.test(i.nodeName)||w.test(i.nodeName)&&i.href?0:d}},style:{get:function(i){return i.style.cssText},set:function(i,j){i.style.cssText=j}}},r={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
u={get:function(i,j){return a.prop(i,j)?j.toLowerCase():d},set:function(i,j,s){if(j===false)a.removeAttr(i,s);else{j=r[s]||s;if(j in i)i[j]=true;i.setAttribute(s,s.toLowerCase())}return s}},m={},n={},l={option:{get:function(i){var j=i.attributes.value;return!j||j.specified?i.value:i.text}},select:{get:function(i){var j=i.selectedIndex,s=i.options;i=i.type==="select-one";if(j<0)return null;else if(i)return a.val(s[j]);j=[];i=0;for(var y=s.length;i<y;++i)s[i].selected&&j.push(a.val(s[i]));return j},
set:function(i,j){var s=f.makeArray(j);f.each(i.options,function(y){y.selected=f.inArray(a.val(y),s)});if(!s.length)i.selectedIndex=-1;return s}}};if(g){n={get:function(i,j){var s;return(s=i.getAttributeNode(j))&&s.nodeValue!==""?s.nodeValue:d},set:function(i,j,s){if(i=i.getAttributeNode(s))i.nodeValue=j}};x=r;q.tabIndex=q.tabindex;f.each(["href","src","width","height","colSpan","rowSpan"],function(i){q[i]={get:function(j){j=j.getAttribute(i,2);return j===null?d:j}}});l.button=q.value=n}f.each(["radio",
"checkbox"],function(i){l[i]={get:function(j){return j.getAttribute("value")===null?"on":j.value},set:function(j,s){if(f.isArray(s))return j.checked=f.inArray(a.val(j),s)}}});f.mix(a,{prop:function(i,j,s){if(f.isPlainObject(j))for(var y in j)a.prop(i,y,j[y]);else{i=a.query(i);j=r[j]||j;var z=m[j];if(s!==d)f.each(i,function(A){if(z&&z.set)z.set(A,s,j);else A[j]=s});else if(i=i[0])return e(i,j)}},hasProp:function(i,j){return e(i,j)!==d},removeProp:function(i,j){j=r[j]||j;a.query(i).each(function(s){try{s[j]=
d;delete s[j]}catch(y){}})},attr:function(i,j,s,y){if(f.isPlainObject(j)){y=s;for(var z in j)a.attr(i,z,j[z],y)}else if(j=f.trim(j)){j=j.toLowerCase();if(y&&o[j])return a[j](i,s);j=x[j]||j;var A;A=h.test(j)?u:v.test(j)?n:q[j];if(s===d){i=a.get(i);if(c(i)){if(i.nodeName.toLowerCase()=="form")A=n;if(A&&A.get)return A.get(i,j);i=i.getAttribute(j);return i===null?d:i}}else f.each(a.query(i),function(B){if(c(B))A&&A.set?A.set(B,s,j):B.setAttribute(j,""+s)})}},removeAttr:function(i,j){j=j.toLowerCase();
j=x[j]||j;f.each(a.query(i),function(s){if(c(s)){var y;s.removeAttribute(j);if(h.test(j)&&(y=r[j]||j)in s)s[y]=false}})},hasAttr:g?function(i,j){j=j.toLowerCase();var s=a.get(i).getAttributeNode(j);return!!(s&&s.specified)}:function(i,j){j=j.toLowerCase();return a.get(i).hasAttribute(j)},val:function(i,j){var s,y;if(j===d){var z=a.get(i);if(z){if((s=l[z.nodeName.toLowerCase()]||l[z.type])&&"get"in s&&(y=s.get(z,"value"))!==d)return y;y=z.value;return typeof y==="string"?y.replace(t,""):y==null?"":
y}}else a.query(i).each(function(A){if(A.nodeType===1){var B=j;if(B==null)B="";else if(typeof B==="number")B+="";else if(f.isArray(B))B=f.map(B,function(C){return C==null?"":C+""});s=l[A.nodeName.toLowerCase()]||l[A.type];if(!s||!("set"in s)||s.set(A,B,"value")===d)A.value=B}})},text:function(i,j){if(j===d){var s=a.get(i);if(c(s))return s[b]||"";else if(a._nodeTypeIs(s,3))return s.nodeValue;return d}else f.each(a.query(i),function(y){if(c(y))y[b]=j;else if(a._nodeTypeIs(y,3))y.nodeValue=j})}});return a},
{requires:["./base","ua"]});
KISSY.add("dom/class",function(f,a,k){function d(b,c,h,p){if(!(c=f.trim(c)))return p?false:k;b=a.query(b);var w=0,v=b.length,t=c.split(e);for(c=[];w<t.length;w++){var x=f.trim(t[w]);x&&c.push(x)}for(w=0;w<v;w++){t=b[w];if(a._isElementNode(t)){t=h(t,c,c.length);if(t!==k)return t}}if(p)return false;return k}var e=/[\.\s]\s*\.?/,g=/[\n\t]/g;f.mix(a,{hasClass:function(b,c){return d(b,c,function(h,p,w){if(h=h.className){h=(" "+h+" ").replace(g," ");for(var v=0,t=true;v<w;v++)if(h.indexOf(" "+p[v]+" ")<
0){t=false;break}if(t)return true}},true)},addClass:function(b,c){d(b,c,function(h,p,w){var v=h.className;if(v){var t=(" "+v+" ").replace(g," ");v=v;for(var x=0;x<w;x++)if(t.indexOf(" "+p[x]+" ")<0)v+=" "+p[x];h.className=f.trim(v)}else h.className=c},k)},removeClass:function(b,c){d(b,c,function(h,p,w){var v=h.className;if(v)if(w){v=(" "+v+" ").replace(g," ");for(var t=0,x;t<w;t++)for(x=" "+p[t]+" ";v.indexOf(x)>=0;)v=v.replace(x," ");h.className=f.trim(v)}else h.className=""},k)},replaceClass:function(b,
c,h){a.removeClass(b,c);a.addClass(b,h)},toggleClass:function(b,c,h){var p=f.isBoolean(h),w;d(b,c,function(v,t,x){for(var o=0,q;o<x;o++){q=t[o];w=p?!h:a.hasClass(v,q);a[w?"removeClass":"addClass"](v,q)}},k)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,k,d){function e(y,z){if(f.isPlainObject(z))if(v(y))a.attr(y,z,true);else y.nodeType==11&&f.each(y.childNodes,function(A){a.attr(A,z,true)});return y}function g(y,z){var A=null,B,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;A=z.createDocumentFragment();if(y.item)y=f.makeArray(y);B=0;for(C=y.length;B<C;B++)A.appendChild(y[B])}else f.log("Unable to convert "+y+" to fragment.");return A}function b(y,z,A,B){if(A){var C=f.guid("ks-tmp-"),D=RegExp(q);z+='<span id="'+
C+'"></span>';f.available(C,function(){var E=a.get("head"),F,G,I,H,K,J;for(D.lastIndex=0;F=D.exec(z);)if((I=(G=F[1])?G.match(u):false)&&I[2]){F=h.createElement("script");F.src=I[2];if((H=G.match(m))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)f.globalEval(J);(K=h.getElementById(C))&&a.remove(K);f.isFunction(B)&&B()});c(y,z)}else{c(y,z);f.isFunction(B)&&B()}}function c(y,z){z=(z+"").replace(q,"");try{y.innerHTML=z}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(a.create(z))}}var h=document,p=k.ie,w=a._nodeTypeIs,v=a._isElementNode,t=h.createElement("div"),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,o=/<(\w+)/,q=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,r=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,u=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;f.mix(a,{create:function(y,z,A){if(w(y,1)||w(y,3)){z=y;A=z.cloneNode(true);if(k.ie<8)A.innerHTML=z.innerHTML;return A}if(!(y=f.trim(y)))return null;var B=
null;B=a._creators;var C,D="div",E;if(C=r.exec(y))B=(A||h).createElement(C[1]);else{y=y.replace(x,"<$1></$2>");if((C=o.exec(y))&&(E=C[1])&&f.isFunction(B[E=E.toLowerCase()]))D=E;y=B[D](y,A).childNodes;B=y.length===1?y[0].parentNode.removeChild(y[0]):g(y,A||h)}return e(B,z)},_creators:{div:function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="w<div>"+y+"</div>";return A.lastChild}},html:function(y,z,A,B){if(z===d){y=a.get(y);if(v(y))return y.innerHTML}else f.each(a.query(y),function(C){v(C)&&
b(C,z,A,B)})},remove:function(y){f.each(a.query(y),function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:g});if(p||k.gecko||k.webkit){var n=a._creators,l=a.create,i=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,j={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},s;for(s in j)(function(y){n[s]=function(z,A){return l("<"+y+">"+z+"</"+y+">",null,A)}})(j[s]);if(p){n.script=function(y,z){var A=z?z.createElement("div"):t;A.innerHTML="-"+y;A.removeChild(A.firstChild);
return A};if(p<8)n.tbody=function(y,z){var A=l("<table>"+y+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!i.test(y)&&B.parentNode.removeChild(B);return A}}f.mix(n,{optgroup:n.option,th:n.td,thead:n.tbody,tfoot:n.tbody,caption:n.tbody,colgroup:n.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,k){var d=window,e="_ks_data_"+f.now(),g={},b={},c={};c.applet=1;c.object=1;c.embed=1;var h={hasData:function(v,t){if(v)if(t!==k){if(t in v)return true}else if(!f.isEmptyObject(v))return true;return false}},p={hasData:function(v,t){if(v==d)return p.hasData(b,t);return h.hasData(v[e],t)},data:function(v,t,x){if(v==d)return p.data(b,t,x);var o=v[e];if(x!==k){o=v[e]=v[e]||{};o[t]=x}else if(t!==k)return o&&o[t];else return o=v[e]=v[e]||{}},removeData:function(v,t){if(v==
d)return p.removeData(b,t);var x=v[e];if(x)if(t!==k){delete x[t];f.isEmptyObject(x)&&p.removeData(v,k)}else delete v[e]}},w={hasData:function(v,t){var x=v[e];if(!x)return false;return h.hasData(g[x],t)},data:function(v,t,x){if(!c[v.nodeName.toLowerCase()]){var o=v[e];o||(o=v[e]=f.guid());v=g[o];if(x!==k){v=g[o]=g[o]||{};v[t]=x}else if(t!==k)return v&&v[t];else return v=g[o]=g[o]||{}}},removeData:function(v,t){var x=v[e];if(x){var o=g[x];if(o)if(t!==k){delete o[t];f.isEmptyObject(o)&&w.removeData(v,
k)}else{delete g[x];try{delete v[e]}catch(q){}v.removeAttribute&&v.removeAttribute(e)}}}};f.mix(a,{hasData:function(v,t){var x=false;a.query(v).each(function(o){x=o&&o.nodeType?x||w.hasData(o,t):x||p.hasData(o,t)});return x},data:function(v,t,x){if(f.isPlainObject(t))for(var o in t)a.data(v,o,t[o]);else if(x===k)return(v=a.get(v))&&v.nodeType?w.data(v,t,x):p.data(v,t,x);else a.query(v).each(function(q){q&&q.nodeType?w.data(q,t,x):p.data(q,t,x)})},removeData:function(v,t){a.query(v).each(function(x){x&&
x.nodeType?w.removeData(x,t):p.removeData(x,t)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(f,a){function k(b,c,h){b=a.query(b);c=a.query(c);if(b=d(b)){var p;if(c.length>1)p=b.cloneNode(true);for(var w=0;w<c.length;w++){var v=c[w],t=w>0?p.cloneNode(true):b;h(t,v)}}}var d=a._nl2frag;f.mix(a,{insertBefore:function(b,c){k(b,c,function(h,p){p.parentNode&&p.parentNode.insertBefore(h,p)})},insertAfter:function(b,c){k(b,c,function(h,p){p.parentNode&&p.parentNode.insertBefore(h,p.nextSibling)})},appendTo:function(b,c){k(b,c,function(h,p){p.appendChild(h)})},prependTo:function(b,
c){k(b,c,function(h,p){p.insertBefore(h,p.firstChild)})}});var e={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in e)a[g]=a[e[g]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(f,a,k,d){function e(j){var s,y=0;s=0;var z=c.body,A=t(j[r]);if(j[i]){s=j[i]();y=s[u];s=s[m];j=h&&c.documentMode!=9&&(x?p.clientTop:z.clientTop)||0;y-=h&&c.documentMode!=9&&(x?p.clientLeft:z.clientLeft)||0;s-=j;if(k.mobile=="apple"){y-=a[n](A);s-=a[l](A)}}return{left:y,top:s}}function g(j,s){var y={left:0,top:0},z=t(j[r]),A=j;s=s||z;do{var B;if(z==s){var C=A;B=e(C);C=t(C[r]);B.left+=a[n](C);B.top+=a[l](C);B=B}else B=e(A);B=B;y.left+=B.left;y.top+=B.top}while(z&&z!=s&&
(A=z.frameElement)&&(z=z.parent));return y}var b=window,c=document,h=k.ie,p=c.documentElement,w=a._isElementNode,v=a._nodeTypeIs,t=a._getWin,x=c.compatMode==="CSS1Compat",o=Math.max,q=parseInt,r="ownerDocument",u="left",m="top",n="scrollLeft",l="scrollTop",i="getBoundingClientRect";f.mix(a,{offset:function(j,s,y){if((j=a.get(j))&&j[r]){if(s===d)return g(j,y);j=j;if(a.css(j,"position")==="static")j.style.position="relative";y=g(j);var z={},A,B;for(B in s){A=q(a.css(j,B),10)||0;z[B]=A+s[B]-y[B]}a.css(j,
z)}},scrollIntoView:function(j,s,y,z){if((j=a.get(j))&&j[r]){z=z===d?true:!!z;y=y===d?true:!!y;if(!s||(s=a.get(s))===b)j.scrollIntoView(y);else{if(v(s,9))s=t(s);var A=!!t(s),B=a.offset(j),C=A?{left:a.scrollLeft(s),top:a.scrollTop(s)}:a.offset(s),D={left:B[u]-C[u],top:B[m]-C[m]};B=A?a.viewportHeight(s):s.clientHeight;A=A?a.viewportWidth(s):s.clientWidth;C=a[n](s);var E=a[l](s),F=C+A,G=E+B,I=j.offsetHeight;j=j.offsetWidth;var H=D.left+C-(q(a.css(s,"borderLeftWidth"))||0);D=D.top+E-(q(a.css(s,"borderTopWidth"))||
0);var K=H+j,J=D+I,L,M;if(I>B||D<E||y)L=D;else if(J>G)L=J-B;if(z)if(j>A||H<C||y)M=H;else if(K>F)M=K-A;a[l](s,L);a[n](s,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(j,s){var y="scroll"+j;a[y]=function(z,A){if(f.isNumber(z))arguments.callee(b,z);else{z=a.get(z);var B=0,C=t(z);if(C){if(A!==d){B=j=="Left"?A:a.scrollLeft(C);var D=j=="Top"?A:a.scrollTop(C);C.scrollTo(B,D)}B=C.document;B=C[s?"pageYOffset":"pageXOffset"]||B.documentElement[y]||B.body[y]}else if(w(z=
a.get(z)))B=A!==d?z[y]=A:z[y];return A===d?B:d}}});f.each(["Width","Height"],function(j){a["doc"+j]=function(s){s=a.get(s);s=t(s).document;return o(s.documentElement["scroll"+j],s.body["scroll"+j],a["viewport"+j](s))};a["viewport"+j]=function(s){s=a.get(s);var y="inner"+j;s=t(s);var z=s.document;return y in s?s[y]:x?z.documentElement["client"+j]:z.body["client"+j]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,a,k,d){function e(m,n){var l=a.get(m);if(f.isWindow(l))return n==p?a.viewportWidth(l):a.viewportHeight(l);else if(l.nodeType==9)return n==p?a.docWidth(l):a.docHeight(l);var i=n===p?l.offsetWidth:l.offsetHeight;f.each(n===p?["Left","Right"]:["Top","Bottom"],function(j){i-=parseFloat(a._getComputedStyle(l,"padding"+j))||0;i-=parseFloat(a._getComputedStyle(l,"border"+j+"Width"))||0});return i}function g(m,n,l){var i=l;if(l===w&&t.test(n)){i=0;if(f.inArray(a.css(m,"position"),
["absolute","fixed"])){l=m[n==="left"?"offsetLeft":"offsetTop"];if(h&&document.documentMode!=9||k.opera)l-=m.offsetParent["client"+(n=="left"?"Left":"Top")]||0;i=l-(v(a.css(m,"margin-"+n))||0)}}return i}var b=document,c=b.documentElement,h=k.ie,p="width",w="auto",v=parseInt,t=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,o=/-([a-z])/ig,q=function(m,n){return n.toUpperCase()},r={},u={};f.mix(a,{_CUSTOM_STYLES:r,_getComputedStyle:function(m,n){var l="",i=m.ownerDocument;
if(m.style)l=i.defaultView.getComputedStyle(m,null)[n];return l},css:function(m,n,l){if(f.isPlainObject(n))for(var i in n)a.css(m,i,n[i]);else{if(n.indexOf("-")>0)n=n.replace(o,q);i=n;n=r[n]||n;if(l===d){m=a.get(m);var j="";if(m&&m.style){j=n.get?n.get(m,i):m.style[n];if(j===""&&!n.get)j=g(m,n,a._getComputedStyle(m,n))}return j===d?"":j}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&x.test(n))l+="px";(n===p||n==="height")&&parseFloat(l)<0||f.each(a.query(m),function(s){if(s&&s.style){n.set?
n.set(s,l):s.style[n]=l;if(l==="")s.style.cssText||s.removeAttribute("style")}})}}},width:function(m,n){if(n===d)return e(m,p);else a.css(m,p,n)},height:function(m,n){if(n===d)return e(m,"height");else a.css(m,"height",n)},show:function(m){a.query(m).each(function(n){if(n){n.style.display=a.data(n,"display")||"";if(a.css(n,"display")==="none"){var l=n.tagName,i=u[l],j;if(!i){j=b.createElement(l);b.body.appendChild(j);i=a.css(j,"display");a.remove(j);u[l]=i}a.data(n,"display",i);n.style.display=i}}})},
hide:function(m){a.query(m).each(function(n){if(n){var l=n.style,i=l.display;if(i!=="none"){i&&a.data(n,"display",i);l.display="none"}}})},toggle:function(m){a.query(m).each(function(n){if(n)a.css(n,"display")==="none"?a.show(n):a.hide(n)})},addStyleSheet:function(m,n,l){if(f.isString(m)){l=n;n=m;m=window}m=a.get(m);m=a._getWin(m).document;var i;if(l&&(l=l.replace("#","")))i=a.get("#"+l,m);if(!i){i=a.create("<style>",{id:l},m);a.get("head",m).appendChild(i);if(i.styleSheet)i.styleSheet.cssText=n;
else i.appendChild(m.createTextNode(n))}},unselectable:function(m){a.query(m).each(function(n){if(n)if(k.gecko)n.style.MozUserSelect="none";else if(k.webkit)n.style.KhtmlUserSelect="none";else if(k.ie||k.opera){var l=0,i=n.getElementsByTagName("*");for(n.setAttribute("unselectable","on");n=i[l++];)switch(n.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:n.setAttribute("unselectable","on")}}})}});if(c.style.cssFloat!==d)r["float"]="cssFloat";else if(c.style.styleFloat!==
d)r["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,a,k){function d(o,q){var r,u,m=[],n;u=f.require("sizzle");q=e(q);if(f.isString(o))if(o.indexOf(",")!=-1){r=o.split(",");f.each(r,function(l){m.push.apply(m,f.makeArray(d(l,q)))})}else{o=f.trim(o);if(v.test(o)){if(u=g(o.slice(1),q))m=[u]}else if(r=t.exec(String(o))){u=r[1];n=r[2];r=r[3];if(q=u?g(u,q):q)if(r)if(!u||o.indexOf(w)!==-1)m=f.makeArray(x(r,n,q));else{if((u=g(u,q))&&a.hasClass(u,r))m=[u]}else if(n)m=b(n,q)}else if(u)m=u(o,q);else c(o)}else if(o&&(f.isArray(o)||
p(o)))m=o;else if(o)m=[o];if(p(m))m=f.makeArray(m);m.each=function(l,i){return f.each(m,l,i)};return m}function e(o){if(o===k)o=h;else if(f.isString(o)&&v.test(o))o=g(o.slice(1),h);else if(f.isArray(o)||p(o))o=o[0]||null;else if(o&&o.nodeType!==1&&o.nodeType!==9)o=null;return o}function g(o,q){if(!q)return null;if(q.nodeType!==9)q=q.ownerDocument;return q.getElementById(o)}function b(o,q){return q.getElementsByTagName(o)}function c(o){f.error("Unsupported selector: "+o)}var h=document,p=a._isNodeList,
w=" ",v=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var o=h.createElement("div");o.appendChild(h.createComment(""));if(o.getElementsByTagName("*").length>0)b=function(q,r){var u=f.makeArray(r.getElementsByTagName(q));if(q==="*"){for(var m=[],n=0,l=0,i;i=u[n++];)if(i.nodeType===1)m[l++]=i;u=m}return u}})();var x=h.getElementsByClassName?function(o,q,r){r=o=f.makeArray(r.getElementsByClassName(o));var u=0,m=0,n=o.length,l;if(q&&q!=="*"){r=[];for(q=q.toUpperCase();u<n;++u){l=
o[u];if(l.tagName===q)r[m++]=l}}return r}:h.querySelectorAll?function(o,q,r){return r.querySelectorAll((q?q:"")+"."+o)}:function(o,q,r){q=r.getElementsByTagName(q||"*");r=[];var u=0,m=0,n=q.length,l,i;for(o=w+o+w;u<n;++u){l=q[u];if((i=l.className)&&(w+i+w).indexOf(o)>-1)r[m++]=l}return r};f.mix(a,{query:d,get:function(o,q){return d(o,q)[0]||null},filter:function(o,q,r){var u=d(o,r),m=f.require("sizzle"),n,l,i,j=[];if(f.isString(q)&&(n=t.exec(q))&&!n[1]){l=n[2];i=n[3];q=function(s){return!(l&&s.tagName.toLowerCase()!==
l.toLowerCase()||i&&!a.hasClass(s,i))}}if(f.isFunction(q))j=f.filter(u,q);else if(q&&m)j=m._filter(o,q,r);else c(q);return j},test:function(o,q,r){o=d(o,r);return o.length&&a.filter(o,q,r).length===o.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,a,k,d,e){if(!k.ie)return a;d=document;var g=d.documentElement,b=a._CUSTOM_STYLES,c=/^-?\d+(?:px)?$/i,h=/^-?\d/,p=/^(?:width|height)$/;try{if(g.style.opacity==e&&g.filters)b.opacity={get:function(x){var o=100;try{o=x.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{o=x.filters("alpha").opacity}catch(r){if(x=((x.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))o=parseInt(f.trim(x[1]))}}return o/100+""},set:function(x,o){var q=x.style,
r=(x.currentStyle||0).filter||"";q.zoom=1;if(r)r=f.trim(r.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(r&&o!=1)r+=", ";q.filter=r+(o!=1?"alpha(opacity="+o*100+")":"")}}}catch(w){f.log("IE filters ActiveX is disabled. ex = "+w)}k=k.ie==8;var v={},t={get:function(x,o){var q=x.currentStyle[o]+"";if(q.indexOf("px")<0)q=v[q]?v[q]:0;return q}};v.thin=k?"1px":"2px";v.medium=k?"3px":"4px";v.thick=k?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(x){b["border"+x+"Width"]=t});if(!(d.defaultView||
{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(x,o){var q=x.style,r=x.currentStyle[o];if(p.test(o))r=a[o](x)+"px";else if(!c.test(r)&&h.test(r)){var u=q.left,m=x.runtimeStyle.left;x.runtimeStyle.left=x.currentStyle.left;q.left=o==="fontSize"?"1em":r||0;r=q.pixelLeft+"px";q.left=u;x.runtimeStyle.left=m}return r};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,a,k){function d(c,h,p,w,v,t){if(!(c=a.get(c)))return null;if(h===0)return c;t||(c=c[p]);if(!c)return null;v=v&&a.get(v)||null;if(h===k)h=1;t=[];var x=f.isArray(h),o,q;if(f.isNumber(h)){o=0;q=h;h=function(){return++o===q}}do if(b(c)&&e(c,h)&&(!w||w(c))){t.push(c);if(!x)break}while(c!=v&&(c=c[p]));return x?t:t[0]||null}function e(c,h){if(!h)return true;if(f.isArray(h))for(var p=0;p<h.length;p++){if(a.test(c,h[p]))return true}else if(a.test(c,h))return true;return false}
function g(c,h,p){var w=[];var v=c=a.get(c);if(c&&p)v=c.parentNode;if(v){p=0;for(v=v.firstChild;v;v=v.nextSibling)if(b(v)&&v!==c&&(!h||a.test(v,h)))w[p++]=v}return w}var b=a._isElementNode;f.mix(a,{closest:function(c,h,p){return d(c,h,"parentNode",function(w){return w.nodeType!=11},p,true)},parent:function(c,h,p){return d(c,h,"parentNode",function(w){return w.nodeType!=11},p)},next:function(c,h){return d(c,h,"nextSibling",k)},prev:function(c,h){return d(c,h,"previousSibling",k)},siblings:function(c,
h){return g(c,h,true)},children:function(c,h){return g(c,h,k)},contains:document.documentElement.contains?function(c,h){c=a.get(c);h=a.get(h);if(c.nodeType==3)return false;var p;if(h.nodeType==3){h=h.parentNode;p=true}else if(h.nodeType==9)return false;else p=c!==h;return p&&(c.contains?c.contains(h):true)}:document.documentElement.compareDocumentPosition?function(c,h){c=a.get(c);h=a.get(h);return!!(c.compareDocumentPosition(h)&16)}:0,equals:function(c,h){c=a.query(c);h=a.query(h);if(c.length!=h.length)return false;
for(var p=c.length;p>=0;p--)if(c[p]!=h[p])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,a){function k(g,b,c){this.currentTarget=g;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=c;this.target=g}this.currentTarget=g;this.fixed=true}var d=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(k,{_fix:function(){var g=this.originalEvent,b=e.length,c,h=this.currentTarget;for(h=h.nodeType===9?h:h.ownerDocument||d;b;){c=e[--b];this[c]=g[c]}if(!this.target)this.target=this.srcElement||d;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){g=h.documentElement;b=h.body;this.pageX=this.clientX+(g&&g.scrollLeft||b&&b.scrollLeft||
0)-(g&&g.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||b&&b.scrollTop||0)-(g&&g.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return k});
KISSY.add("event/base",function(f,a,k,d){function e(q,r,u){if((u=f.trim(u))&&u.indexOf(w)>0){var m=f.makeArray(arguments);f.each(u.split(w),function(n){var l=f.clone(m);l.splice(0,3,r,n);o[q].apply(o,l)});return true}return d}function g(q){return q&&q.nodeType!==3&&q.nodeType!==8}function b(q,r,u,m,n){var l=o.special[r]||{};if(!m.length&&(!l.setup||l.setup.call(q)===false))h(q,r,u);l.add&&l.add.call(q,n)}var c=document,h=c.addEventListener?function(q,r,u,m){q.addEventListener&&q.addEventListener(r,
u,!!m)}:function(q,r,u){q.attachEvent&&q.attachEvent("on"+r,u)},p=c.removeEventListener?function(q,r,u,m){q.removeEventListener&&q.removeEventListener(r,u,!!m)}:function(q,r,u){q.detachEvent&&q.detachEvent("on"+r,u)},w=" ",v="",t="trigger-none-"+f.now(),x="ksEventTargetId"+f.now(),o={_data:function(){var q=f.makeArray(arguments);q.splice(1,0,x);return a.data.apply(a,q)},_removeData:function(){var q=f.makeArray(arguments);q.splice(1,0,x);return a.removeData.apply(a,q)},special:{},add:function(q,r,
u,m,n){if(e("add",q,r,u,m,n))return q;a.query(q).each(function(l){var i=!l.isCustomEventTarget,j;if(!(!l||!r||!f.isFunction(u)||i&&!g(l))){(j=o._data(l))||o._data(l,j={});var s=j.events=j.events||{};s=s[r]=s[r]||[];var y={fn:u,scope:m||l,data:n},z=j.handler;if(!z){z=j.handler=function(A,B){if(!(A&&A.type==v)){var C=z.target;if(!A||!A.fixed)A=new k(C,A);f.isPlainObject(B)&&f.mix(A,B);return o._handle(C,A)}};z.target=l}if(i){b(l,r,z,s,y);l=null}s.push(y)}});return q},__getListeners:function(q,r){return(o.__getEvents(q)||
{})[r]||[]},__getEvents:function(q){return(q=o._data(q))&&q.events},remove:function(q,r,u,m,n){if(e("remove",q,r,u,m))return q;a.query(q).each(function(l){var i=o._data(l),j=i&&i.events,s,y,z,A,B,C=!l.isCustomEventTarget,D=C&&o.special[r]||{};if(!(!l||!C&&!g(l)||!j))if(r===d)for(r in j)o.remove.call(o,l,r);else{m=m||l;if(s=j[r]){y=s.length;if(u&&y){A=z=0;for(B=[];z<y;++z){var E=false,F=s[z];if(u!==F.fn||m!==F.scope){B[A++]=F;E=true}else if(n!==G){var G=F.data;if(!n&&G||G&&!n){B[A++]=F;E=true}else if(n&&
G)if(!n.equals||!G.equals)f.error("no equals in data");else if(!G.equals(n)){B[A++]=F;E=true}}!E&&D.remove&&D.remove.call(l,F)}j[r]=B;y=B.length}if(u===d||y===0){if(C&&(!D.tearDown||D.tearDown.call(l)===false))p(l,r,i.handler);delete j[r]}}if(f.isEmptyObject(j)){i.handler.target=null;delete i.handler;delete i.events;o._removeData(l)}}});return q},_handle:function(q,r){for(var u=o.__getListeners(q,r.type).slice(0),m,n,l=0,i=u.length;l<i;++l){m=u[l];m=m.fn.call(m.scope,r,m.data);if(m!==d){if(n!==false)n=
m;m===false&&r.halt()}if(r.isImmediatePropagationStopped)break}return n},fire:function(q,r,u,m){if(!e("fire",q,r,u)){var n;a.query(q).each(function(l){var i=!l.isCustomEventTarget;u=u||{};u.type=r;if(i){var j=u,s;if(g(l)){i=new k(l);f.mix(i,j);if(m){i.stopPropagation();i.preventDefault()}j=i.target=l;var y="on"+r;do{var z=(o._data(j)||{}).handler;i.currentTarget=j;z&&z.call(j,i);if(j[y]&&j[y].call(j)===false){s=false;i.preventDefault()}j=j.parentNode||j.ownerDocument||j===l.ownerDocument&&window}while(j&&
!i.isPropagationStopped);if(!i.isDefaultPrevented)if(!(r==="click"&&l.nodeName.toLowerCase()=="a")){var A;try{if(y&&l[r]){if(A=l[y])l[y]=null;v=r;l[r]()}}catch(B){}if(A)l[y]=A;v=t}}l=s;if(l!==d)n=l}else if((l=o._data(l))&&f.isFunction(l.handler))n=l.handler(d,u)});return n}},_batchForType:e,_simpleAdd:h,_simpleRemove:p};o.on=o.add;o.detach=o.remove;return o},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,a){return{isCustomEventTarget:true,fire:function(k,d){return a.fire(this,k,d)},on:function(k,d,e){a.add(this,k,d,e);return this},detach:function(k,d,e){a.remove(this,k,d,e);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(f,a,k){a.ie||f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(d){function e(b){return k.fire(b.target,d.name)}var g=0;k.special[d.name]={setup:function(){g++===0&&document.addEventListener(d.fix,e,true)},tearDown:function(){--g===0&&document.removeEventListener(d.fix,e,true)}}});return k},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(f,a,k,d){d=g||d.ie;if(!("onhashchange"in window)||d<8){var e=window,g=document.documentMode,b=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},c,h=b(),p=function(){var q=b();if(q!==h){w(q);h=q}c=setTimeout(p,50)},w=d<8?function(q){q="<html><body>"+q+"</body></html>";var r=o.contentWindow.document;try{r.open();r.write(q);r.close();return true}catch(u){return false}}:function(q){v(q)},v=function(q){f.log("hash changed : "+q);a.fire(e,"hashchange")},
t=function(){c||p()},x=function(){c&&clearTimeout(c);c=null},o;if(d<8){t=function(){if(!o){o=k.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');k.prepend(o,document.documentElement);a.add(o,"load",function(){a.remove(o,"load");w(b());a.add(o,"load",q);p()});var q=function(){var r=f.trim(o.contentWindow.document.body.innerHTML),u=b();if(r!=u)h=location.hash=r;v(r)}}};x=function(){c&&clearTimeout(c);c=null;a.detach(o);k.remove(o);o=null}}a.special.hashchange=
{setup:function(){this===e&&t()},tearDown:function(){this===e&&x()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(f,a,k){function d(t){k.removeData(t,p);if(k.hasData(t,w)){var x=k.data(t,w);clearTimeout(x);k.removeData(t,w)}}function e(t){d(t.target)}function g(t){k.hasData(t,w)||k.data(t,w,setTimeout(function(){var x=t.value,o=k.data(t,p);if(x!==o){a.fire(t,h,{prevVal:o,newVal:x},true);k.data(t,p,x)}k.data(t,w,setTimeout(arguments.callee,v))},v))}function b(t){var x=t.target;t.type=="focus"&&k.data(x,p,x.value);g(x)}function c(t){d(t);a.remove(t,"blur",e);a.remove(t,"mousedown keyup keydown focus",
b)}var h="valuechange",p="event/valuechange/history",w="event/valuechange/poll",v=50;a.special[h]={setup:function(){var t=this.nodeName.toLowerCase();if("input"==t||"textarea"==t){c(this);a.on(this,"blur",e);a.on(this,"mousedown keyup keydown focus",b)}},tearDown:function(){c(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(f,a,k){function d(c){return c.fn===undefined&&c.selector===undefined?true:c.fn===undefined?this.selector==c.selector:this.fn==c.fn&&this.selector==c.selector&&this.scope==c.scope}function e(c,h){var p,w=a.closest(c.target,[h.selector],this);if(w)for(var v=0;v<w.length;v++){c.currentTarget=w[v];var t=h.fn.call(h.scope||this,c);if(t===false||c.isPropagationStopped||c.isImmediatePropagationStopped){if(t===false)p=t;if(c.isPropagationStopped||c.isImmediatePropagationStopped)break}}return p}
var g=k._batchForType,b={focus:"focusin",blur:"focusout"};f.mix(k,{delegate:function(c,h,p,w,v){if(g("delegate",c,h,p,w,v))return c;a.query(c).each(function(t){if(!t.isCustomEventTarget){h=b[h]||h;k.on(t,h,e,t,{fn:w,selector:p,scope:v,equals:d})}});return c},undelegate:function(c,h,p,w,v){if(g("undelegate",c,h,p,w,v))return c;a.query(c).each(function(t){if(!t.isCustomEventTarget){h=b[h]||h;k.remove(t,h,e,t,{fn:w,selector:p,scope:v,equals:d})}});return c}});return k},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(f,a,k,d){d.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){function g(b){var c=this,h=b.relatedTarget;b.type=e.name;try{if(!(h&&h!==document&&!h.parentNode)){h=k.closest(h,function(w){return w==c});h!==c&&a._handle(c,b)}}catch(p){f.log("withinElement :"+p)}}a.special[e.name]={setup:function(){a.add(this,e.fix,g)},tearDown:function(){a.remove(this,e.fix,g)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(f,a,k,d){a.Target=k;a.Object=d;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(f,a,k){function d(b,c,h){if(!(this instanceof d))return new d(b,c,h);if(b)if(f.isString(b)){b=a.create(b,c,h);if(b.nodeType===11){e.push.apply(this,f.makeArray(b.childNodes));return k}}else if(f.isArray(b)||g(b)){e.push.apply(this,f.makeArray(b));return k}else b=b;else return k;this[0]=b;this.length=1;return k}var e=Array.prototype,g=a._isNodeList;f.augment(d,{length:0,item:function(b){if(f.isNumber(b)){if(b>=this.length)return null;return new d(this[b],k,k)}else return new d(b,
k,k)},add:function(b,c,h){if(f.isNumber(c)){h=c;c=k}b=f.makeArray(d.all(b,c));c=new d(this,k,k);if(h===k)e.push.apply(c,b);else{h=[h,0];h.push.apply(h,b);e.splice.apply(c,h)}return c},slice:function(b,c){return new d(e.slice.call(this,b,c),k,k)},getDOMNodes:function(){return e.slice.call(this)},each:function(b,c){var h=this.length,p=0,w;for(w=new d(this[0],k,k);p<h&&b.call(c||w,w,p,this)!==false;w=new d(this[++p],k,k));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return d.all(b,this[0]);return new d(k,k,k)}});d.prototype.one=function(b){b=this.all(b);return b.length?b:null};d.all=function(b,c){if(f.isString(b)&&(b=f.trim(b))&&b.length>=3&&f.startsWith(b,"<")&&f.endsWith(b,">")){if(c){if(c.getDOMNode)c=c.getDOMNode();if(c.ownerDocument)c=c.ownerDocument}return new d(b,k,c)}return new d(a.query(b,c),k,k)};d.one=function(b,c){var h=d.all(b,c);return h.length?h:null};return d},{requires:["dom"]});
KISSY.add("node/attach",function(f,a,k,d,e){function g(c,h,p){p.unshift(h);c=a[c].apply(a,p);if(c===e)return h;return c}var b=d.prototype;f.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(c){b[c]=function(){var h=
f.makeArray(arguments);return g(c,this,h)}});f.each(["filter","parent","closest","next","prev","siblings","children"],function(c){b[c]=function(){var h=f.makeArray(arguments);h.unshift(this);h=a[c].apply(a,h);h=h===e?this:h===null?null:new d(h);return h}});f.each({attr:1,text:0,css:1,val:0,prop:1,offset:0,html:0,data:1},function(c,h){b[h]=function(){var p=f.makeArray(arguments);if(p[c]===e&&!f.isObject(p[0])){p.unshift(this);p=a[h].apply(a,p)}else p=g(h,this,p);return p}});f.each(["on","detach","fire",
"delegate","undelegate"],function(c){b[c]=function(){var h=f.makeArray(arguments);h.unshift(this);return k[c].apply(k,h)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(f,a,k,d){f.each(["append","prepend","before","after"],function(e){d.prototype[e]=function(g){g=g;if(f.isString(g))g=a.create(g);a[e](g,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var f=Math,a=f.PI,k=f.pow,d=f.sin,e=1.70158,g={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(k(2,10*(b-=1))*d((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return k(2,-10*b)*d((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*k(2,10*(b-=1))*d((b-0.1125)*2*a/0.45);return k(2,-10*(b-=1))*d((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((e+1)*b-e)},backOut:function(b){return(b-=1)*b*((e+1)*b+e)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((e*=1.525)+1)*b-e);return 0.5*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)},bounceIn:function(b){return 1-g.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return g.bounceIn(b*2)*0.5;return g.bounceOut(b*2-1)*0.5+0.5}};g.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return g});
KISSY.add("anim/manager",function(f){function a(d){d[k]=d[k]||f.guid("anim-");return d[k]}var k=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(d){var e=a(d);if(!this.runnings[e]){this.runnings[e]=d;this.startTimer()}},stop:function(d){this.notRun(d)},notRun:function(d){delete this.runnings[a(d)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(d){this.notRun(d)},resume:function(d){this.start(d)},startTimer:function(){var d=this;if(!d.timer)d.timer=setTimeout(function(){if(d.runFrames())d.stopTimer();
else{d.timer=null;d.startTimer()}},d.interval)},stopTimer:function(){var d=this.timer;if(d){clearTimeout(d);this.timer=null}},runFrames:function(){var d=true,e=this.runnings,g;for(g in e)if(e.hasOwnProperty(g)){d=false;e[g]._runFrame()}return d}}});
KISSY.add("anim/base",function(f,a,k,d,e,g,b){function c(m,n,l,i,j,s){if(m=a.get(m)){if(!(this instanceof c))return new c(m,n,l,i,j,s);var y=f.isPlainObject(l);n=n;this.domEl=m;if(f.isPlainObject(n))n=String(f.param(n,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=n,A=m;m={};var B=v.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(p(C,z);B--;){var D=v[B];if(A[D])m[D]=(r[D]||r["*"]).getter(C,D)}z=w(z);for(var E in z)m[E]=(r[E]||r["*"]).getter(C,
E);a.remove(C);this.props=m;this.targetStyle=n;if(y)y=f.merge(o,l);else{y=f.clone(o);if(l)y.duration=parseFloat(l)||1;if(f.isString(i)||f.isFunction(i))y.easing=i;if(f.isFunction(j))y.complete=j;if(s!==b)y.nativeSupport=s}if(!f.isEmptyObject(w(n)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&u()&&f.isString(i=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(i)||(i=d.NativeTimeFunction[i])){y.easing=i;this.transitionName=u()}if(f.isFunction(j))this.callback=j}}function h(m,n){return n}function p(m,
n){if(e.ie&&n.indexOf(x)>-1){var l=n.match(/opacity\s*:\s*([^;]+)(;|$)/);l&&a.css(m,x,parseFloat(l[1]))}m.style.cssText+=";"+n;l=w(n);for(var i in l)m[i]=l[i]}function w(m){for(var n={},l=0;l<t.length;l++){var i=t[l].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(i=m.match(RegExp(i+"\\s*:([^;]+)(;|$)")))n[t[l]]=f.trim(i[1])}return n}var v,t,x,o,q;k=k.Target;v="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
t=[];x="opacity";o={duration:1,easing:"easeNone",nativeSupport:true};c.PROPS=v;c.CUSTOM_ATTRS=t;c.PROP_OPS={"*":{getter:function(m,n){var l=a.css(m,n),i=parseFloat(l);l=(l+"").replace(/^[-\d.]+/,"");if(isNaN(i))return{v:l,u:"",f:h};return{v:i,u:l,f:this.interpolate}},setter:function(m,n,l){return a.css(m,n,l)},interpolate:function(m,n,l){return(m+(n-m)*l).toFixed(3)},eq:function(m,n){return m.v==n.v&&m.u==n.u}}};var r=c.PROP_OPS;f.augment(c,k,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var m=this.config,n=this.domEl,l,i=this.props,j={},s;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=l=m.duration*1E3;if(this.transitionName)this._nativeRun();else{for(s in i)j[s]=(r[s]||r["*"]).getter(n,s);this.source=j;n=f.now();l=n+l;m=m.easing;if(f.isString(m))m=d[m]||d.easeNone;this.start=n;this.finish=l;this.easing=m;g.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=
this.domEl,n=this.finish,l=this.start,i=this.duration,j=f.now(),s=this.source,y=this.easing,z=this.props,A;l=j-l;i=j>n?1:l/i;var B,C;this.elapsedTime=l;for(A in z){l=s[A];B=z[A];var D;D=B;var E=l,F=r[A];D=F&&F.eq?F.eq(D,E):r["*"].eq(D,E);if(!D){if(B.v==0)B.u=l.u;if(l.u!==B.u){l.v=0;l.u=B.u}D=B.f(l.v,B.v,y(i))+B.u;(r[A]||r["*"]).setter(m,A,D);if(B.f==h){l.v=B.v;l.u=B.u}}}if(this.fire("step")===false||(C=j>n)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,n=m.domEl,l=m.duration,
i=m.config.easing,j=m.transitionName,s={};s[j+"Property"]="all";s[j+"Duration"]=l+"ms";s[j+"TimingFunction"]=i;a.css(n,s);f.later(function(){p(n,m.targetStyle)},0);f.later(function(){m.stop(true)},l)},stop:function(m){if(this.isRunning){if(this.transitionName)this._nativeStop(m);else{if(m){p(this.domEl,this.targetStyle);this._complete()}g.stop(this)}this.isRunning=false;return this}},_nativeStop:function(m){var n=this.domEl,l=this.transitionName,i=this.props,j;if(m){a.css(n,l+"Property","none");this._complete()}else{for(j in i)a.css(n,
j,a._getComputedStyle(n,j));a.css(n,l+"Property","none")}}});c.supportTransition=function(){if(q)return q;var m="transition",n,l=document.documentElement;if(l.style[m]!==b)n=m;else f.each(["Webkit","Moz","O"],function(i){if(l.style[m=i+"Transition"]!==b){n=m;return false}});return q=n};var u=c.supportTransition;return c},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(f,a,k){function d(p){p=p.toLowerCase();var w;if(w=p.match(g))return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])];else if(w=p.match(b)){for(p=1;p<w.length;p++)if(w[p].length<2)w[p]+=w[p];return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}if(e[p])return e[p];f.log("only allow rgb or hex color string : "+p,"warn");return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},g=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),h=k.PROP_OPS;k=k.PROPS;k.push.apply(k,c);h.color={getter:function(p,w){return{v:d(a.css(p,w)),u:"",f:this.interpolate}},
setter:h["*"].setter,interpolate:function(p,w,v){var t=h["*"].interpolate;return"rgb("+[Math.floor(t(p[0],w[0],v)),Math.floor(t(p[1],w[1],v)),Math.floor(t(p[2],w[2],v))].join(", ")+")"},eq:function(p,w){return p.v+""==w.v+""}};f.each(c,function(p){h[p]=h.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(f,a,k){var d=k.PROP_OPS;k.CUSTOM_ATTRS.push("scrollLeft","scrollTop");d.scrollLeft=d.scrollTop={getter:function(e,g){return{v:e[g],u:"",f:d["*"].interpolate}},setter:function(e,g,b){e[g]=b}}},{requires:["dom","./base"]});KISSY.add("anim",function(f,a,k){a.Easing=k;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(f,a,k,d,e){function g(r,u,m,n,l,i,j){if(u==="toggle"){l=a.css(r,h)===p?1:0;u="show"}if(l)a.css(r,h,a.data(r,h)||"");var s={},y={};f.each(q[u],function(z){if(z===w){s[w]=a.css(r,w);a.css(r,w,v)}else if(z===t){s[t]=a.css(r,t);y.opacity=l?1:0;l&&a.css(r,t,0)}else if(z===x){s[x]=a.css(r,x);y.height=l?a.css(r,x)||r.naturalHeight:0;l&&a.css(r,x,0)}else if(z===o){s[o]=a.css(r,o);y.width=l?a.css(r,o)||r.naturalWidth:0;l&&a.css(r,o,0)}});return(new k(r,y,m,i||"easeOut",
function(){if(!l){var z=r.style,A=z[h];if(A!==p){A&&a.data(r,h,A);z[h]=p}s[x]&&a.css(r,{height:s[x]});s[o]&&a.css(r,{width:s[o]});s[t]&&a.css(r,{opacity:s[t]});s[w]&&a.css(r,{overflow:s[w]})}n&&f.isFunction(n)&&n()},j)).run()}var b=d.prototype,c="ksAnims"+f.now(),h="display",p="none",w="overflow",v="hidden",t="opacity",x="height",o="width",q={show:[w,t,x,o],fade:[t],slide:[w,x]};d.__ANIM_KEY=c;(function(r){function u(m,n){var l=a.data(m,c);l||a.data(m,c,l=[]);n.on("complete",function(){var i=a.data(m,
c);if(i){var j=f.indexOf(n,i);j>=0&&i.splice(j,1);i.length||a.removeData(m,c)}});l.push(n)}r.animate=function(){var m=f.makeArray(arguments);f.each(this,function(n){var l=k.apply(e,[n].concat(m)).run();u(n,l)});return this};r.stop=function(m){f.each(this,function(n){var l=a.data(n,c);if(l){f.each(l,function(i){i.stop(m)});a.removeData(n,c)}});return this};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(m,
n){r[n]=function(l,i,j,s){a[n]&&arguments.length===0?a[n](this):f.each(this,function(y){var z=g(y,m[0],l,i,m[1],j,s);u(y,z)});return this}})})(b)},{requires:["dom","anim","./base"]});KISSY.add("node",function(f,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(f,a){function k(x){return x<10?"0"+x:x}function d(x){h.lastIndex=0;return h.test(x)?'"'+x.replace(h,function(o){var q=v[o];return typeof q==="string"?q:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function e(x,o){var q,r,u,m,n=p,l,i=o[x];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(x);if(typeof t==="function")i=t.call(o,x,i);switch(typeof i){case "string":return d(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";p+=w;l=[];if(Object.prototype.toString.apply(i)==="[object Array]"){m=i.length;for(q=0;q<m;q+=1)l[q]=e(q,i)||"null";u=l.length===0?"[]":p?"[\n"+p+l.join(",\n"+p)+"\n"+n+"]":"["+l.join(",")+"]";p=n;return u}if(t&&typeof t==="object"){m=t.length;for(q=0;q<m;q+=1){r=t[q];if(typeof r==="string")if(u=e(r,i))l.push(d(r)+(p?": ":":")+u)}}else for(r in i)if(Object.hasOwnProperty.call(i,r))if(u=e(r,i))l.push(d(r)+(p?": ":":")+u);u=l.length===0?"{}":p?"{\n"+p+l.join(",\n"+p)+
"\n"+n+"}":"{"+l.join(",")+"}";p=n;return u}}var g=window,b=g.JSON;if(!b||a.ie<9)b=g.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p,w,v={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;if(typeof b.stringify!=="function")b.stringify=function(x,o,q){var r;w=p="";if(typeof q==="number")for(r=0;r<q;r+=1)w+=" ";else if(typeof q==="string")w=q;if((t=o)&&typeof o!=="function"&&(typeof o!=="object"||typeof o.length!=="number"))throw Error("JSON.stringify");return e("",{"":x})};if(typeof b.parse!==
"function")b.parse=function(x,o){function q(u,m){var n,l,i=u[m];if(i&&typeof i==="object")for(n in i)if(Object.hasOwnProperty.call(i,n)){l=q(i,n);if(l!==undefined)i[n]=l;else delete i[n]}return o.call(u,m,i)}var r;x=String(x);c.lastIndex=0;if(c.test(x))x=x.replace(c,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+x+")");return typeof o==="function"?q({"":r},""):r}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(f,a){return{parse:function(k){if(k==null||k==="")return null;return a.parse(k)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(f,a){function k(g){var b=g.responseText,c=g.responseXML,h=g.config,p=h.converters,w=g.converters||{},v,t,x=h.contents,o=h.dataType;if(b||c){for(h=g.mimeType||g.getResponseHeader("Content-Type");o[0]=="*";)o.shift();if(!o.length)for(v in x)if(x[v].test(h)){o[0]!=v&&o.unshift(v);break}o[0]=o[0]||"text";if(o[0]=="text"&&b!=undefined)t=b;else if(o[0]=="xml"&&c!=undefined)t=c;else f.each(["text","xml"],function(r){var u=o[0];if(w[r]&&w[r][u]||p[r]&&p[r][u]){o.unshift(r);
t=r=="text"?b:c;return false}})}x=o[0];for(h=1;h<o.length;h++){v=o[h];var q=w[x]&&w[x][v]||p[x]&&p[x][v];if(!q)throw"no covert for "+x+" => "+v;t=q(t);x=v}g.responseData=t}function d(g){f.mix(this,{responseData:null,config:g||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var e=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;f.augment(d,a.Target,{setRequestHeader:function(g,b){this.requestHeaders[g]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(g){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=e.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[g]}return b===undefined?null:b},overrideMimeType:function(g){if(!this.state)this.mimeType=g;return this},abort:function(g){g=g||"abort";this.transport&&this.transport.abort(g);this.callback(0,g);return this},
callback:function(g,b){if(this.state!=2){this.state=2;this.readyState=4;var c;if(g>=200&&g<300||g==304)if(g==304){b="notmodified";c=true}else try{k(this);b="success";c=true}catch(h){b="parsererror : "+h}else if(g<0)g=0;this.status=g;this.statusText=b;c?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return d},{requires:["event"]});
KISSY.add("ajax/base",function(f,a,k,d){function e(u){u=f.mix(f.clone(r),u||{},undefined,undefined,true);if(u.crossDomain==null){var m=p.exec(u.url.toLowerCase());u.crossDomain=!!(m&&(m[1]!=x[1]||m[2]!=x[2]||(m[3]||(m[1]==="http:"?80:443))!=(x[3]||(x[1]==="http:"?80:443))))}if(u.processData&&u.data&&!f.isString(u.data))u.data=f.param(u.data,undefined,undefined,u.serializeArray);u.type=u.type.toUpperCase();u.hasContent=!v.test(u.type);if(!u.hasContent){if(u.data)u.url+=(/\?/.test(u.url)?"&":"?")+u.data;
if(u.cache===false)u.url+=(/\?/.test(u.url)?"&":"?")+"_ksTS="+(f.now()+"_"+f.guid())}u.dataType=f.trim(u.dataType||"*").split(h);u.context=u.context||u;return u}function g(u,m){c.fire(u,{ajaxConfig:m.config,xhr:m})}function b(u){var m=this.config;u=u.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);m[u]&&m[u].call(m.context,this.responseData,this.statusText,this);g(u,this)}function c(u){if(u.url){u=e(u);var m=new d(u);g("start",m);var n=new (q[u.dataType[0]]||q["*"])(m);m.transport=n;u.contentType&&
m.setRequestHeader("Content-Type",u.contentType);var l=u.dataType[0],i=u.accepts;m.setRequestHeader("Accept",l&&i[l]?i[l]+(l!=="*"?", */*; q=0.01":""):i["*"]);for(var j in u.headers)m.setRequestHeader(j,u.headers[j]);m.on("complete success error",b);m.readyState=1;g("send",m);if(u.async&&u.timeout>0)m.timeoutTimer=setTimeout(function(){m.abort("timeout")},u.timeout);try{m.state=1;n.send()}catch(s){m.status<2?m.callback(-1,s):f.error(s)}return m}}var h=/\s+/,p=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
w=function(u){return u},v=/^(?:GET|HEAD)$/,t,x;try{t=location.href}catch(o){t=document.createElement("a");t.href="";t=t.href}x=p.exec(t);t=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var q={},r={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:w,text:w,xml:f.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};r.converters.html=r.converters.text;f.mix(c,k.Target);f.mix(c,{isLocal:t,setupConfig:function(u){f.mix(r,u,undefined,undefined,true)},setupTransport:function(u,m){q[u]=m},getTransport:function(u){return q[u]},getConfig:function(){return r}});return c},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(f,a){function k(){try{return new window.XMLHttpRequest}catch(g){}}a.xhr=window.ActiveXObject?function(){var g;if(!(g=!a.isLocal&&k()))a:{try{g=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}g=void 0}return g}:k;var d=a.xhr(),e=false;if(d){if("withCredentials"in d)e=true;d=function(g){this.xhrObj=g};f.augment(d,{send:function(){var g=this,b=g.xhrObj,c=b.config;if(c.crossDomain&&!e)f.error("do not allow crossdomain xhr !");else{var h=a.xhr(),p,w;g.xhr=
h;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(p=c.xhrFields)for(w in p)h[w]=p[w];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);if(!c.crossDomain&&!b.requestHeaders["X-Requested-With"])b.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(w in b.requestHeaders)h.setRequestHeader(w,b.requestHeaders[w])}catch(v){}h.send(c.hasContent&&c.data||null);if(!c.async||h.readyState==4)g._callback();else h.onreadystatechange=function(){g._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(g,b){try{var c=this.xhr,h=this.xhrObj,p=h.config;if(b||c.readyState==4){c.onreadystatechange=f.noop;if(b)c.readyState!==4&&c.abort();else{var w=c.status;h.responseHeadersString=c.getAllResponseHeaders();var v=c.responseXML;if(v&&v.documentElement)h.responseXML=v;h.responseText=c.responseText;try{var t=c.statusText}catch(x){t=""}if(!w&&a.isLocal&&!p.crossDomain)w=h.responseText?200:404;else if(w===1223)w=204;h.callback(w,t)}}}catch(o){c.onreadystatechange=
f.noop;b||h.callback(-1,o)}}});a.setupTransport("*",d);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(f,a){function k(d){if(!d.config.crossDomain&&!d.config.forceScript)return new (a.getTransport("*"))(d);this.xhrObj=d;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(d){f.globalEval(d);return d}}}});f.augment(k,{send:function(){var d=this,e,g=this.xhrObj.config,b=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;d.head=b;e=document.createElement("script");d.script=e;e.async="async";if(g.scriptCharset)e.charset=g.scriptCharset;e.src=g.url;e.onerror=e.onload=e.onreadystatechange=function(c){c=c||window.event;d._callback((c.type||"error").toLowerCase())};b.insertBefore(e,b.firstChild)},_callback:function(d,e){var g=this.script,b=this.xhrObj,c=this.head;if(e||!g.readyState||/loaded|complete/.test(g.readyState)||d=="error"){g.onerror=g.onload=g.onreadystatechange=null;c&&g.parentNode&&
c.removeChild(g);this.head=this.script=undefined;if(!e&&d!="error")b.callback(200,"success");else d=="error"&&b.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",k);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(f,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return f.guid("jsonp")}});a.on("start",function(k){k=k.xhr;var d=k.config;if(d.dataType[0]=="jsonp"){var e,g=d.jsonpCallback,b=f.isFunction(g)?g():g,c=window[b];d.url+=(/\?/.test(d.url)?"&":"?")+d.jsonp+"="+b;window[b]=function(h){e=[h]};k.on("complete",function(){window[b]=c;if(c===undefined)try{delete window[b]}catch(h){}else e&&c(e[0])});k.converters=k.converters||{};k.converters.script=k.converters.script||
{};k.converters.script.json=function(){e||f.error(" not call jsonpCallback : "+b);return e[0]};d.dataType.length=2;d.dataType[0]="script";d.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(f,a){return{serialize:function(k){k=a.get(k);var d={};f.each(k.elements,function(e){e.disabled||(d[e.name]=a.val(e))});return f.param(d,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(f,a,k,d){a.on("start",function(e){e=e.xhr.config;if(e.form){var g=k.get(e.form);if((g.encoding||g.enctype).toLowerCase()!="multipart/form-data"){if(g=d.serialize(g))if(e.hasContent){e.data=e.data||"";if(e.data)e.data+="&";e.data+=g}else e.url+=(/\?/.test(e.url)?"&":"?")+g}else{g=e.dataType[0];if(g=="*")g="text";e.dataType.length=2;e.dataType[0]="iframe";e.dataType[1]=g}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(f,a,k,d){function e(b){this.xhr=b}var g=document;d.setupConfig({converters:{iframe:d.getConfig().converters.text,text:{iframe:function(b){return b}}}});f.augment(e,{send:function(){var b=this.xhr,c=b.config,h,p=a.get(c.form);this.attrs={target:a.attr(p,"target")||"",action:a.attr(p,"action")||""};this.form=p;var w=f.guid("ajax-iframe");b.iframe=a.create("<iframe  id='"+w+"' name='"+w+"' style='position:absolute;left:-9999px;top:-9999px;'/>");b.iframeId=w;a.prepend(b.iframe,
g.body||g.documentElement);a.attr(p,{target:b.iframeId,action:c.url});if(c.data){h=c.data;c=c.serializeArray;h=f.unparam(h);w=[];for(var v in h)for(var t=f.makeArray(h[v]),x=0;x<t.length;x++){var o=g.createElement("input");o.type="hidden";o.name=v+(c?"[]":"");o.value=t[x];a.append(o,p);w.push(o)}h=w}this.fields=h;k.on(b.iframe,"load error",this._callback,this);p.submit()},_callback:function(b){var c=this.xhr;b=b.type;var h=c.iframe;a.attr(this.form,this.attrs);if(b=="load"){b=h.contentWindow.document;
c.responseXML=b;c.responseText=a.text(b.body);c.callback(200,"success")}else b=="error"&&c.callback(500,"error");a.remove(this.fields);k.detach(h);setTimeout(function(){a.remove(h)},30);c.iframe=null},abort:function(){this._callback(0,1)}});d.setupTransport("iframe",e);return d},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(f,a){f.mix(a,{get:function(k,d,e,g,b){if(f.isFunction(d)){g=e;e=d;d=undefined}return a({type:b||"get",url:k,data:d,success:e,dataType:g})},post:function(k,d,e,g){if(f.isFunction(d)){g=e;e=d;d=undefined}return a.get(k,d,e,g,"post")},jsonp:function(k,d,e){if(f.isFunction(d)){e=d;d=undefined}return a.get(k,d,e,"jsonp")},getScript:f.getScript,getJSON:function(k,d,e){if(f.isFunction(d)){e=d;d=undefined}return a.get(k,d,e,"json")},upload:function(k,d,e,g,b){if(f.isFunction(e)){b=
g;g=e;e=undefined}return a({url:k,type:"post",dataType:b,form:d,data:e,success:g})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(f,a){function k(){this.__attrs={};this.__attrVals={}}function d(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}f.augment(k,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(e,g,b){if(this.__attrs[e])f.mix(this.__attrs[e],g,b);else this.__attrs[e]=f.clone(g||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,g){var b=this.get(e);if(b!==g)if(false!==this.__fireAttrChange("before",e,b,g)){this.__set(e,g);this.__fireAttrChange("after",e,b,this.__attrVals[e]);return this}},__fireAttrChange:function(e,g,b,c){return this.fire(e+d(g)+"Change",{attrName:g,prevVal:b,newVal:c})},__set:function(e,g){var b,c=(this.__attrs[e]=this.__attrs[e]||{}).setter;if(c)b=c.call(this,g);if(b!==a)g=b;this.__attrVals[e]=g},get:function(e){var g;g=(g=this.__attrs[e])&&g.getter;e=e in this.__attrVals?this.__attrVals[e]:
this.__getDefAttrVal(e);if(g)e=g.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var g;if(e){if(g=e.valueFn){g=g.call(this);if(g!==a)e.value=g;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});k.__capitalFirst=d;return k});
KISSY.add("base/base",function(f,a,k){function d(e){a.call(this);for(var g=this.constructor;g;){var b=g.ATTRS;if(b){var c=void 0;for(c in b)b.hasOwnProperty(c)&&this.addAttr(c,b[c],false)}g=g.superclass?g.superclass.constructor:null}if(e)for(var h in e)e.hasOwnProperty(h)&&this.__set(h,e[h])}f.augment(d,k.Target,a);return d},{requires:["./attribute","event"]});KISSY.add("base",function(f,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var a=document,k=encodeURIComponent,d=decodeURIComponent;return{get:function(e){var g;if(f.isString(e)&&e!=="")if(e=String(a.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))g=e[1]?d(e[1]):"";return g},set:function(e,g,b,c,h,p){g=String(k(g));var w=b;if(typeof w==="number"){w=new Date;w.setTime(w.getTime()+b*864E5)}if(w instanceof Date)g+="; expires="+w.toUTCString();if(f.isString(c)&&c!=="")g+="; domain="+c;if(f.isString(h)&&h!=="")g+="; path="+h;if(p)g+=
"; secure";a.cookie=e+"="+g},remove:function(e,g,b,c){this.set(e,"",-1,g,b,c)}}});KISSY.add("cookie",function(f,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(f,a,k,d,e,g,b,c,h,p){b.getScript=f.getScript;a={UA:a,DOM:k,Event:d,EventTarget:d.Target,EventObject:d.Object,Node:e,NodeList:e,JSON:g,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:c,Easing:c.Easing,Base:h,Cookie:p,one:e.one,all:e.all,get:k.get,query:k.query};f.mix(f,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
